_.Module.define({path:"encourage/widget/novel_icons",sub:{initial:function(){},getMonthlyTicketIcon:function(){return"<i class='novel-monthly-ticket-icon'></i>"},getNovelLevelIcon:function(n,e,o){e=e||"",o=o||"";var l="";return l=""===o?"<i class='novel-level-icon novel-level-"+n+"' title='"+e+"'></i>":"<a target='_blank' href='"+o+"' class='novel-level-icon novel-level-"+n+"' title='"+e+"'></a>"},getNovelFamousIcon:function(n){return'<span class="novel-famous-icon">'+n+"</span>"},getNovelRankIcon:function(){var n=void 0===arguments[0]?1:arguments[0];return"<i class='novel-rank-icon novel-rank-"+n+"'></i>"},getNovelTopFansIcon:function(n){return"<i class='novel-top-fans-icon novel-top-fans-"+n+"'></i>"}}});_.Module.define({path:"pb/widget/saveFace",requires:[],sub:{url:"/tbmall/post/useSavefaceProps",opt:{tbs:0,props_id:"",thread_id:"",forum_id:"",target_user_id:"",target_user_name:""},curPost:null,ajaxing:!1,tmp:['<div class="save_face_dialog">','<div class="save_face_detail clearfix">#{save_cards}</div>','<div class="save_face_use">','<div class="save_face_split"></div>','<p class="save_face_tip"><span>\u8981\u4F7F\u7528\u8FD9\u5F20\u633D\u5C0A\u5361\u5417\uFF1F</span>','<a class="j_save_face_buy" target="_blank" href="/tbmall/propslist?category=117">>>\u7ACB\u5373\u8D2D\u4E70</a>',"</p>","<p>",'<a href="#" onclick="return false;" class="j_save_face ui_btn ui_btn_m">',"<span><em>\u786E\u5B9A</em></span>","</a>",'<a href="#" onclick="return false;" class="j_save_face_cancel ui_btn ui_btn_sub_m">',"<span><em>\u53D6\u6D88</em></span>","</a>","</p>","</div>","</div>"].join(""),initial:function(e){try{if(window.Page&&Page.checkLoadedModules("saveface"))return;this.props=e.props,this.isLogin=e.isLogin,this.dialog=null,this.opt.forum_id=e.forumId,this.opt.thread_id=e.threadId,this.opt.tbs=PageData.tbs,this.bindEvents()}catch(a){throw"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:a.message||a.description,path:"pb:widget/save_face/save_face.js",method:"",ln:57}),a}},bindEvents:function(){var e=this;$(".save_face_card").live("click",function(){try{if(!e.isLogin)return _.Module.use("common/widget/LoginDialog",[],function(){}),!1;var a=$(this).closest(".j_l_post").getData();e.opt.target_user_id=a.author.user_id,e.opt.target_user_name=a.author.user_name,e.curPost=$(this).closest(".save_face_bg"),e.initDialog()}catch(s){throw"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:s.message||s.description,path:"pb:widget/save_face/save_face.js",method:"",ln:71}),s}}),$("body").on("mouseenter",".save_card",function(){return $(this).closest(".save_face_detail").find(".save_card").removeClass("hover"),$(this).hasClass("sel")?!1:($(this).addClass("hover"),void 0)}).on("mouseleave",".save_face_detail",function(){$(this).find(".save_card").removeClass("hover")}).on("click",".save_card",function(){try{var a=!!$(this).getData("data-num"),s=$(".j_save_face_buy").removeClass("emph");return $(this).closest(".save_face_detail").find(".save_card").removeClass("sel").removeClass("unsel"),a?($(this).addClass("sel"),s.hide(),e.opt.props_id=$(this).getData("data-id")):($(this).addClass("unsel"),s.show(),e.opt.props_id=0),!1}catch(t){throw"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:t.message||t.description,path:"pb:widget/save_face/save_face.js",method:"",ln:100}),t}}).on("click",".j_save_face_cancel",function(){try{return e.dialog.close(),e.dialog=null,e.opt.props_id="",!1}catch(a){throw"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:a.message||a.description,path:"pb:widget/save_face/save_face.js",method:"",ln:105}),a}}).on("click",".j_save_face",function(){try{e.postHandle()}catch(a){throw"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:a.message||a.description,path:"pb:widget/save_face/save_face.js",method:"",ln:107}),a}}).on("click",".j_save_face_buy",function(){try{e.showBuyDialog(this.href)}catch(a){throw"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:a.message||a.description,path:"pb:widget/save_face/save_face.js",method:"",ln:109}),a}}).on("click",".j_save_face_buy_1",function(){try{e.showBuyDialog(this.href)}catch(a){throw"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:a.message||a.description,path:"pb:widget/save_face/save_face.js",method:"",ln:111}),a}})},initSaveCards:function(){for(var e=0,a={},s="",t=(this.props,['<div class="save_card" title="#{card_desc}" data-id="#{card_id}" data-num="#{card_num}">','<img src="#{card_img}"/>',"<p>x#{card_num}</p>","</div>"].join("")),i={},c=[{key:"1170001",img:"//tb1.bdstatic.com/tb/cms/save_face/level_1.png",desc:"\u7834\u65E7\u7684\u633D\u5C0A\u5361(\u589E\u52A0\u7ECF\u9A8C\u503C-1~2)"},{key:"1170002",img:"//tb1.bdstatic.com/tb/cms/save_face/level_2.png",desc:"\u666E\u901A\u7684\u633D\u5C0A\u5361(\u589E\u52A0\u7ECF\u9A8C\u503C0~3)"},{key:"1170003",img:"//tb1.bdstatic.com/tb/cms/save_face/level_3.png",desc:"\u95EA\u5149\u7684\u633D\u5C0A\u5361(\u589E\u52A0\u7ECF\u9A8C\u503C2~5)"},{key:"1170004",img:"//tb1.bdstatic.com/tb/cms/save_face/level_4.png",desc:"\u8000\u773C\u7684\u633D\u5C0A\u5361(\u589E\u52A0\u7ECF\u9A8C\u503C5~8)"},{key:"1170005",img:"//tb1.bdstatic.com/tb/cms/save_face/level_5.png",desc:"\u795E\u5723\u7684\u633D\u5C0A\u5361(\u589E\u52A0\u7ECF\u9A8C\u503C10~15)"}];e<c.length;e++)a=c[e],i={card_id:a.key,card_img:a.img,card_desc:a.desc,card_num:this.getPropNum(a.key)},s+=$.tb.format(t,i);return s},getPropNum:function(e){var a=this.props;return a&&a["117"]&&a["117"][e]?a["117"][e].left_num:0},initDialog:function(){var e=$.tb.format(this.tmp,{save_cards:this.initSaveCards()});this.dialog=new $.dialog({title:"\u4F7F\u7528\u633D\u5C0A\u5361",html:e,draggable:!1,width:640}),this.dialog.show()},postHandle:function(){var e=this;if(!e.ajaxing){if(0==e.opt.props_id)return $(".j_save_face_buy").show().addClass("emph"),void 0;e.ajaxing=!0,$.post(e.url,e.opt,function(a){e.ajaxing=!1,e.resHandle(a)})}},resHandle:function(e){var a=this;if(0==e.no){this.dialog.close();var s=setTimeout(function(){a.addScoreAni(e.data.exp),clearTimeout(s),s=null},200)}else{var t={210009:"\u4E0D\u80FD\u5BF9\u81EA\u5DF1\u4F7F\u7528\u633D\u5C0A\u5361\u54E6",2270026:"\u633D\u5C0A\u5361\u53EA\u80FD\u5BF9\u52CB\u7AE0\u7528\u6237\u4F7F\u7528",2190008:"4\u5C0F\u65F6\u5185\u53EA\u80FD\u5BF9\u540C\u4E00\u4E2A\u7528\u6237\u4F7F\u7528\u4E00\u6B21\u633D\u5C0A\u5361",2270019:'\u60A8\u7684\u633D\u5C0A\u5361\u4E0D\u591F\u4E86<a class="j_save_face_buy_1" target="_blank" href="/tbmall/propslist?category=117">>>\u7ACB\u5373\u8D2D\u4E70</a>',"else":"\u670D\u52A1\u5668\u6253\u4E86\u4E2A\u76F9\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5"},i=['<p class="save_face_alert">',e&&e.no in t?t[e.no]:t["else"],"</p>",'<p class="save_face_alert">','<a href="" onclick="return false;" class="j_save_face_cancel ui_btn ui_btn_m">',"<span><em>\u786E\u5B9A</em></span>","</a>","</p>"].join("");this.dialog.close(),this.dialog=new $.dialog({title:"\u63D0\u793A",html:i,draggable:!1}),this.dialog.show()}},addScoreAni:function(e){var a=['<div class="save_face_ani">','<span class="ani_1">@'+$.tb.subByte(this.opt.target_user_name,10)+"</span>",'<span class="ani_2">+'+parseInt(e)+"\u7ECF\u9A8C\u503C</span>","</div>"].join("");$(a).css({top:130,left:350}).insertAfter(this.curPost).animate({top:"-=70",left:"-=200",opacity:.2},1500,function(){$(this).remove(),$.tb.location.reload()})},showBuyDialog:function(e){var a='<p class="buy_txt">\u9053\u5177\u8D2D\u4E70\u6210\u529F\u540E\u5373\u53EF\u4F7F\u7528\uFF01</p><div class="buy_dialog_btns"><a href="#" class="ui_btn ui_btn_m btn_success"><span><em>\u8D2D\u4E70\u6210\u529F</em></span></a><a href="#{href}" target="_blank"  class="ui_btn ui_btn_sub_m btn_failure"><span><em>\u8D2D\u4E70\u5931\u8D25\uFF0C\u91CD\u65B0\u8D2D\u4E70</em></span></a></div>',s=new $.dialog({title:"\u63D0\u793A",html:$.tb.format(a,{href:$.tb.unescapeHTML(e)}),width:400,height:80});s.bind("onclose",function(){$.tb.location.reload()}),s.element.find(".btn_success").on("click",function(e){try{e.preventDefault(),$.tb.location.reload()}catch(e){throw"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message||e.description,path:"pb:widget/save_face/save_face.js",method:"",ln:271}),e}})}}});window.__discarding&&__discarding("pcommon/component/login_dialog"),_.Module.define({path:"pcommon/component/LoginDialog",sub:{_config:{apiOpt:{staticPage:"http://tieba.baidu.com/tb/static-common/html/pass/v3Jump.html",product:"tb",charset:"GBK",u:"",memberPass:!0,safeFlag:0},cache:!1,img:"",onLoginSuccess:function(t){t.returnValue=!1,$.stats.sendRequest("st_type=login_succeed&fr=tb0&st_pos="),$.tb.location.reload()},onSubmitStart:function(){$.stats.sendRequest("st_type=login_click&fr=tb0&st_pos=")},registerLink:"https://passport.baidu.com/v2/?reg&tpl=tb&u=http://tieba.baidu.com",tangram:!0},initial:function(t,i,s){var o=this,a=1;if(o._config.apiOpt.u="string"==typeof t&&""!=t?t:$.tb.location.getHref(),"string"==typeof i){switch(i){case"userBar":a=1;break;case"editor1":case"lzl":a=2;break;case"editor":a=3;break;case"lzonly":a=4;break;case"ilike":a=5;break;default:a=1}o._config.img="http://tb2.bdstatic.com/tb/static-common/img/passport/logindlg_pic"+a+".png"}else o._config.img="http://tb2.bdstatic.com/tb/static-common/img/passport/logindlg_pic"+a+".png";PageData&&(o._config.apiOpt.isQuickUser=PageData.is_quick_user||0),s&&(o._config.onLoginSuccess=s),arguments.length>3&&(o._config.apiOpt.product=arguments[3]),function(t){var i="undefined"!=typeof Env&&Env.server_time?Env.server_time:(new Date).getTime();t.JsLoadManager.use(["http://passport.bdimg.com/passApi/js/uni_login_wrapper.js?cdnversion="+Math.floor(i/6e4),"http://passport.bdimg.com/passApi/js/wrapper.js?cdnversion="+Math.floor(i/6e4)],function(){t.passPopInstance||(t.passPopInstance=passport.pop.init(o._config)),t("#passport-login-pop").find(".pass-login-pop-img img").tbattr("src",o._config.img),t.passPopInstance.show(),setTimeout(function(){t("#passport-login-pop").find("input.pass-button-submit").tbattr("alog-alias","login")},1e3)},!0,"utf-8")}(window.jQuery)}}});_.Module.define({requires:["pcommon/component/LoginDialog"],path:"pb/widget/Posts",sub:{initial:function(e){try{var t=this;t.maskDays=e.maskDays,t._bindEvents()}catch(a){throw"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:a.message||a.description,path:"pb:widget/posts/posts.js",method:"",ln:17}),a}},_bindEvents:function(){if(!Page.checkLoadedModules("pbPost")){var e=this;$("#j_p_postlist").delegate(".p_post_del_my","click",function(){try{var t=$(this),a=t.getData()||{},o=a.delete_mine,s=a.user_name,n=a.index;if(o&&1==o){var i=n&&1==n?"\u4E3B\u9898":"\u56DE\u590D",r=r=$.dialog.confirm('<div style="margin:15px auto 0;text-align:center;">\u786E\u8BA4\u5220\u9664\u8FD9\u6761'+i+"?<div>",{showTitle:!1});n&&1==n?r.bind("onaccept",function(){e._delete_thread(s)}):r.bind("onaccept",function(){var a=e._get_delete_paras(t,!1);a.user_name=s,e._delete_post(a)})}return!1}catch(c){throw"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:c.message||c.description,path:"pb:widget/posts/posts.js",method:"",ln:47}),c}}).delegate(".lzl_jb_in","click",function(){try{{var t=$(this),a=t.getData()||{},o=a.user_name;a.delete_mine}if(1!=a.delete_mine){var s=$(this).parents(".lzl_single_post").getData(),n=$(this).parents(".j_l_post").getData().content.post_id;return window.open("//tieba.baidu.com/complaint/info?type=0&tid="+PageData.thread.thread_id+"&pid="+n+"&cid="+s.spid,"newwindow","height=900, width=800, toolbar =no, menubar=no, scrollbars=yes, resizable=yes, location=no, status=no"),!1}var i=$.dialog.confirm('<div style="margin:15px auto 0;text-align:center;">\u786E\u8BA4\u5220\u9664\u8FD9\u6761\u56DE\u590D?<div>',{showTitle:!1});return i.bind("onaccept",function(){var a=e._get_delete_paras(t,!0);a.user_name=o,e._delete_post(a,!0)}),!1}catch(r){throw"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:r.message||r.description,path:"pb:widget/posts/posts.js",method:"",ln:69}),r}}).delegate(".apc_src_wrapper a","mousedown",function(e){var t=e.currentTarget.href,a=t.replace(/\w*(:\/\/)?([^\/]+).*/g,"$2");$.stats.sendRequest("fr=tb0_forum&st_type=shenqi_pb_link&st_value="+encodeURIComponent(a))}).delegate(".j_user_card","click",function(){try{if(PageData.user.is_login)return;var e="";e=$(this).hasClass("lzl_p_p")?"pb_user_lzl":"pb_user_lc";var t="//tieba.baidu.com"+$.tb.unescapeHTML($(this).tbattr("href"));return window.open("/f/user/passport?jumpUrl="+t+"&statsInfo="+e+"#login_anchor"),!1}catch(a){throw"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:a.message||a.description,path:"pb:widget/posts/posts.js",method:"",ln:80}),a}}).delegate(".j_jb_ele","mouseover",function(){$(this).find(".super_jubao").show()}).delegate(".j_jb_ele","mouseout",function(){$(this).find(".super_jubao").hide()}).on("click",".j-pb-tpoint",function(){try{var t=PageData.user;if(!t.is_login)return e.requireInstance("pcommon/component/LoginDialog"),!1;var a=$(this),o=a.getData();e.tbpointTrack(o.template_id,"BTN_FB");var s=e.maskDays&&+e.maskDays<=10?"\u786E\u5B9A"+e.maskDays+"\u5929\u5185\u4E0D\u518D\u770B\u5230\u8BE5\u6761\u5E7F\u544A?":"\u786E\u5B9A\u4E0D\u518D\u770B\u5230\u8BE5\u6761\u5E7F\u544A?",n=$.dialog.confirm('<div style="margin:15px auto 0;text-align:center;">'+s+"</div>",{title:"\u63D0\u793A"});n.bind("onaccept",function(){e.tbpointTrack(o.template_id,"BTN_FBOK"),$.post("/tpoint/submit/mask",{tbs:PageData.tbs,user_id:t.user_id,template_id:o.template_id},function(t){0===t.no?a.closest(".j_l_post").remove():e._showTip("\u62B1\u6B49\uFF0C\u7CFB\u7EDF\u7E41\u5FD9\uFF0C\u9690\u85CF\u5931\u8D25\u3002")},"json")}).bind("oncancel",function(){e.tbpointTrack(o.template_id,"BTN_FBCANCEL")})}catch(i){throw"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:i.message||i.description,path:"pb:widget/posts/posts.js",method:"",ln:129}),i}})}},tbpointTrack:function(e,t){var a=PageData;$.stats.track("p0248","tpoint","PB","CLICK_FEEDBACK",{action_type:"CLICK_FEEDBACK",line:"PT",loc_param:t,obj_id:e,obj_name:e,obj_cpid:0,obj_good_id:0,obj_throw_type:"BY_POST",client_type:"PC_WEB",uid:a.user.user_id,uname:a.user.user_name,fid:a.forum.forum_id,fname:a.forum.forum_name,err_no:0,tid:a.thread.thread_id,timestamp:(new Date).getTime()})},_delete_thread:function(e,t){var a=this,o=PageData,s={ie:"utf-8",tbs:o.tbs,kw:o.forum.forum_name,fid:o.forum.forum_id,tid:o.thread.thread_id,user_name:e,delete_my_post:0,delete_my_thread:1};t&&(s=$.extend(s,a._captcha)),PostHandler.execute("threadDelete",s,function(t){var o="";switch(t.no){case 0:$.tb.location.setHref("/f?kw="+PageData.forum.name_encode);break;case 308:o=PageData.user.forbidden?"\u62B1\u6B49\uFF0C\u60A8\u5DF2\u88AB\u672C\u5427\u5C01\u7981\u6216\u8005\u52A0\u5165\u9ED1\u540D\u5355\uFF0C\u6682\u4E0D\u80FD\u5220\u8D34":"";break;case 871:o="\u62B1\u6B49\uFF0C\u4ECA\u5929\u5DF2\u8FBE\u60A8\u5220\u8D34\u7684\u6700\u5927\u9650\u989D\uFF0C\u660E\u5929\u518D\u6765\u8BD5\u8BD5\u5427~";break;case 34:o="\u4EB2\u7231\u7684\u5C0F\u4F19\u4F34\uFF0C\u4F60\u4ECA\u5929\u7684\u5220\u8D34\u6570\u91CF\u5DF2\u7ECF\u8FBE\u5230\u6700\u5927\u9650\u989D("+t.data.reason+"\u6761/\u5929\uFF09\uFF0C\u660E\u5929\u518D\u6765\u8BD5\u8BD5\u5427~";break;case 4009:o="\u8BE5\u8D34\u5B50\u5DF2\u88AB\u4FDD\u62A4\uFF0C\u65E0\u6CD5\u76F4\u63A5\u5220\u9664\uFF0C\u5982\u53D1\u73B0\u8D34\u5B50\u6709\u95EE\u9898\u8BF7\u76F4\u63A5\u4E3E\u62A5";break;case 4011:a._getCaptcha.call(a,t,e);break;default:o="\u62B1\u6B49\uFF0C\u7CFB\u7EDF\u7E41\u5FD9\uFF0C\u8D34\u5B50\u5220\u9664\u5931\u8D25\u3002"}""!=o&&(a.message?a.message.showMessage(o,"",!1):_.Module.getInstance("pb/widget/Message",function(e){a.message=e,e.showMessage(o,"",!1)}))})},_delete_post:function(e,t,a){var o=this,s=PageData,n={ie:"utf-8",tbs:s.tbs,kw:s.forum.forum_name,fid:s.forum.forum_id,tid:s.thread.thread_id,user_name:e.user_name,delete_my_post:1,delete_my_thread:0,is_vipdel:s.power.lz_del?1:0};a&&(n=$.extend(n,o._captcha)),t?(n.pid=e.spid,n.is_finf=1):(n.pid=e.content_id,n.is_finf=!1),PostHandler.execute("postDelete",n,function(a){var s="";switch(a.no){case 0:$.tb.location.reload();break;case 308:s="\u62B1\u6B49\uFF0C\u60A8\u5DF2\u88AB\u672C\u5427\u5C01\u7981\u6216\u8005\u52A0\u5165\u9ED1\u540D\u5355\uFF0C\u6682\u4E0D\u80FD\u5220\u8D34";break;case 871:s="\u62B1\u6B49\uFF0C\u4ECA\u5929\u5DF2\u8FBE\u60A8\u5220\u8D34\u7684\u6700\u5927\u9650\u989D\uFF0C\u660E\u5929\u518D\u6765\u8BD5\u8BD5\u5427~";break;case 877:s="\u8BE5\u8D34\u4E3A\u4ED8\u8D39\u53EF\u89C1\u8D34\uFF0C\u65E0\u6CD5\u5220\u9664";break;case 34:s="\u4EB2\u7231\u7684\u5C0F\u4F19\u4F34\uFF0C\u4F60\u4ECA\u5929\u7684\u5220\u8D34\u6570\u91CF\u5DF2\u7ECF\u8FBE\u5230\u6700\u5927\u9650\u989D("+a.data.reason+"\u6761/\u5929\uFF09\uFF0C\u660E\u5929\u518D\u6765\u8BD5\u8BD5\u5427~";break;case 4009:s="\u8BE5\u8D34\u5B50\u5DF2\u88AB\u4FDD\u62A4\uFF0C\u65E0\u6CD5\u76F4\u63A5\u5220\u9664\uFF0C\u5982\u53D1\u73B0\u8D34\u5B50\u6709\u95EE\u9898\u8BF7\u76F4\u63A5\u4E3E\u62A5";break;case 4011:o._getCaptcha.call(o,a,e,t);break;default:s="\u62B1\u6B49\uFF0C\u7CFB\u7EDF\u7E41\u5FD9\uFF0C\u8D34\u5B50\u5220\u9664\u5931\u8D25\u3002"}""!=s&&(o.message?o.message.showMessage(s,"",!1):_.Module.getInstance("pb/widget/Message",function(e){o.message=e,e.showMessage(s,"",!1)}))})},_captcha:{},_getCaptcha:function(e,t,a){var o=this,s=1;"string"==typeof t&&(s=0),_.Module.use("common/component/CaptchaDialog",{title:"\u5220\u9664\u8D34\u5B50",message:"\u5220\u4E86\u90A3\u4E48\u591A\u8D34\u5B50\uFF0C\u8F93\u4E2A\u7801\u9A8C\u8BC1\u4E0B\u8EAB\u4EFD\u5427~",vCode:e.data.vcode.captcha_vcode_str,vCodeType:e.data.vcode.captcha_code_type,forumName:PageData.forum.forum_name,forumId:PageData.forum.forum_id,postType:"thread",paramsCallback:function(){return{}}},function(e){o.captchaDialog=e,e.bind("onclose",function(){return e.hide(),!1}),e.bind("onaccept",function(){o._captcha.vcode=e.getInputValue(),o._captcha.vcode_md5=e.getVCode(),s?o._delete_post.call(o,t,a,1):o._delete_thread.call(o,t,1)}),e.show()})},_get_delete_paras:function(e,t){var a,o,s={};return t?(a=e.parents("li.j_lzl_s_p"),s=a.getData()):(a=e.parents(".j_l_post"),o=a.getData(),s={author_name:o.author.user_name,content_id:o.content.post_id}),s},_showTip:function(e){var t='<p style="text-align: center">'+e+"</p>";$.dialog.assert(t,function(){},{time:2e3,title:"\u63D0\u793A"})}}});_.Module.define({path:"tbmall/widget/TbeanSafeAjax",requires:["tbmall/widget/TbeanSafe"],sub:{initial:function(a){this.options=a||{}},ajax:function(a){var t=this,e=a.success||function(){},n=a.data||{},s=function(s){var i=t.use("tbmall/widget/TbeanSafe",{json:s,sucCallback:function(e){var s=$.extend({},n,e),i=$.extend({},a);i.data=s,t.ajax(i)},tbeanOptions:t.options});i.needCheck()||e(s)};return a.success=s,a.type=a.type||"post",a.dataType=a.dataType||"json",$.ajax(a)},post:function(a,t,e){var n={url:a,data:t,success:e};return this.ajax(n)}}});_.Module.define({requires:["common/widget/Card","tbmall/widget/TbeanSafeAjax","common/widget/Tdou/TdouViewPay"],path:"encourage/widget/pb_marry",sub:{URL:{getGift:"/marriage/gift/getSceneGiftList",sendGift:"/marriage/gift/sendGift",sendPostInPb:"/marriage/gift/sendPostInPb",sendGiftInPost:"/marriage/gift/sendGiftInPost",saveOrder:"/marriage/gift/saveOrder",getThreadGiftList:"/marriage/gift/getThreadGiftList",accept:"/marriage/accept",refuse:"/marriage/refuse"},sceneId:2000138,initial:function(t){this.opt=t,this.gift={},this.loadMarriageGiftList(),this.bindEvent()},bindEvent:function(){var t=this;$(".marry-post-section").on("click","[j-marry-post-btn-send]",function(){var i=$(this);return t.checkLogin()?(t.gift.user_name=i.tbattr("data-username"),t.buildInFloat(),void 0):!1}).on("click","[j-marry-post-btn-refuse]",function(){var i=$(this);return t.checkLogin()?(t.relation_id=i.tbattr("data-id"),t.post_id=i.tbattr("data-post-id"),t.thread_id=i.tbattr("data-thread-id"),t.user_name=i.tbattr("data-username"),t.showRefuseDialog(t.user_name),void 0):!1}).on("click","[j-marry-post-btn-agree]",function(){var i=$(this);return t.checkLogin()?(t.relation_id=i.tbattr("data-id"),t.post_id=i.tbattr("data-post-id"),t.thread_id=i.tbattr("data-thread-id"),t.user_name=i.tbattr("data-username"),t.showAgreeDialog(t.user_name),void 0):!1})},bindTemplateEvent:function(){var t=this,i=0;this.$root.find('[name="gift-selection-gift-word"]').focus(),this.$root.on("click","[j-gift-selection-gift-list-left]",function(){var e=t.$root.find(".gift-selection-gift-list-wrapper ul"),a=e.find("li").first();a.animate({marginLeft:-a.width()},function(){a.appendTo(e),a.css({marginLeft:i})})}).on("click","[j-gift-selection-gift-list-right]",function(){var e=t.$root.find(".gift-selection-gift-list-wrapper ul"),a=e.find("li").last();a.css({marginLeft:-a.width()}),a.prependTo(e);var s=e.find("li").first();s.animate({marginLeft:i})}).on("mouseover",".gift-selection-gift-item",function(){var i=$(this);t.buildGiftTipCard(i)}).on("mouseout",".gift-selection-gift-item",function(){$(this);t._visit_card&&t._visit_card.closeCard({type:"delayClose",time:100}),t._visit_card=null}).on("click",".gift-selection-gift-item",function(){var i=$(this);t.$root.find(".gift-selection-gift-list-wrapper ul li").removeClass("gift-selection-gift-item-active"),i.addClass("gift-selection-gift-item-active"),t.gift.gift_id=i.tbattr("data-id"),t.gift.price=i.tbattr("data-price")}).on("click","[j-gift-selection-send-gift-btn]",function(){var i=$("[j-gift-selection-form]");if(!t.checkLogin())return!1;var e=i.find('[name="gift-selection-gift-word"]').val();if(!t.gift.gift_id)return t.showAlert("\u8BF7\u9009\u62E9\u793C\u7269! "),!1;if(!e)return t.showAlert("\u8BF7\u586B\u5199\u56DE\u8D34\u4FE1\u606F! "),!1;var a=null==e.match(/[^ -~]/g)?e.length:e.length+e.match(/[^ -~]/g).length;if(a>280)return t.showAlert("\u795D\u798F\u7684\u8BDD\u957F\u5EA6\u4E0D\u80FD\u8D85\u8FC7140\u4E2A\u6C49\u5B57,\u73B0\u5728\u662F"+Math.ceil(a/2)+"\u5B57"),!1;var s={content:e,user_name:t.gift.user_name,gift_id:t.gift.gift_id,forum_id:PageData.forum.forum_id,thread_id:PageData.thread.thread_id,tbs:PageData.tbs};return $.post(t.URL.sendPostInPb,s,function(i){if(i)switch(i.no){case 0:s.post={},s.post.thread_id=i.data.thread_id,s.post.post_id=i.data.post_id,t.genOrder(s),t.dialog.close();break;default:t.showAlert("\u793C\u7269\u53D1\u9001\u5931\u8D25! "),setTimeout(function(){$.tb.location.reload()},1e3)}else t.showAlert("\u670D\u52A1\u5668\u62BD\u98CE\u4E86! ")}),!1})},loadMarriageGiftList:function(){var t={thread_id:PageData.thread.thread_id,user_id:$("[j-marry-post-gift-list]").tbattr("data-userid")},i=$("[j-marry-post-gift-list]");$.get(this.URL.getThreadGiftList,t,function(t){if(t)switch(t.no){case 0:var e="<ul>",a=t.data||[];if(0===a.length){i.html('<span class="marry-post-gift-loading ">\u65E0</span>');break}for(var s in a){var r=a[s];e+=['<li class="marry-post-gift-item ">','<a class="marry-post-gift-username">'+r.user_name+"</a> ","\u9001\u6765\u7684\u793C\u7269",'<a class="marry-post-gift-giftname">'+r.gift_name+"</a>",'<img  class="marry-post-gift-img" src='+r.img+" />",r.achievement?'<img class="marry-post-gift-has-achievement" src="//tb2.bdstatic.com/tb/static-encourage/widget/pb_marry/img/marry_pb_has_achievement_96cc0be.png"':"","</li>"].join("")}e+="</ul>",i.html(e);break;default:i.html('<span class="marry-post-gift-loading ">\u65E0</span>')}})},loadTemplate:function(t){this.template='<div id="gift-selection" class="gift-selection" >         <form class="gift-selection-form" j-gift-selection-form>      <div class="gift-selection-wrapper" >          <div class="gift-selection-row gift-selection-gift" >              <div class="gift-selection-gift-list clearfix">                  <% if (giftList.length > 7 ){ %>                      <div class="gift-selection-gift-list-left" j-gift-selection-gift-list-left ></div>                  <% } %>                  <div class="gift-selection-gift-list-wrapper clearfix" >                      <ul>                          <% for (var i in giftList) {                               var item = giftList[i];                          %>                               <li class="gift-selection-gift-item" data-price="<%=item.price %>" data-proportion="<%=item.proportion %>"  data-id="<%=item.gift_id %>" >                                                                    <div class="gift-selection-gift-item-wrapper" >                                      <div  class="gift-selection-gift-item-img" >                                          <img src="<%=item.large_thumbnail_url %>" />                                          <% if (item.proportion != 100) { %> <i class="icon-marry-gift-dou"></i><% } %>                                      </div>                                      <span class="gift-selection-gift-worth orange-text"><i class="icon-tbean"></i><%=item.price %></span>                                      <div  class="gift-selection-gift-item-check" ></div>                                                                                                              </div>                                  <p class="gift-selection-gift-item-name" ><%=item.gift_name %></p>                                                                </li>                          <% } %>                                                                         </ul>                  </div>                  <% if (giftList.length > 7 ){ %>                      <div class="gift-selection-gift-list-right"  j-gift-selection-gift-list-right ></div>                  <% } %>                                </div>          </div>          <div class="gift-selection-row gift-selection-gift-word-wrapper" >              <label class="gift-selection-label" >\u634E\u53E5\u795D\u798F\u7684\u8BDD</label>              <textarea class="gift-selection-gift-word" name=\'gift-selection-gift-word\' placeholder="\u56F4\u89C2\u6C42\u5A5A\uFF0C\u4E5F\u8981\u5406\u559D\u4E24\u53E5,\u4E0D\u8D85\u8FC7140\u5B57"></textarea>              <div class="gift-selection-gift-buttons" >                  <button type="button" class="btn-default btn-middle gift-selection-send-gift-btn " j-gift-selection-send-gift-btn >\u9001\u51FA\u793C\u7269</button>                 <!--  <label class="gift-selection-gift-word-wrapper"><input type="checkbox" name="gift-selection-user-sign" /> \u4F7F\u7528\u7B7E\u540D\u6863</label> -->              </div>              <div class="gift-selection-gift-tip" >                  \u88AB\u6C42\u5A5A\u4EBA\u540C\u610F\u6C42\u5A5A\u7684\u65F6\u523B\uFF0C\u9001\u793C\u7269\u6700\u591A\u7684\u5427\u53CB\u5C06\u83B7\u5F97<a >\u6708\u8001\u6210\u5C31</a>12\u4E2A\u6708\u3002              </div>                        </div>`        </div>        </form>  </div>';var i=[],e=this,a={scene_id:this.sceneId};$.get(this.URL.getGift,a,function(a){if(a)switch(a.no){case 0:i=a.data.gift_list,e.$root=$(_.template(e.template)({giftList:i})),e.bindTemplateEvent(),"function"==typeof t&&t();break;default:e.showAlert("\u793C\u7269\u5217\u8868\u83B7\u53D6\u5931\u8D25\uFF0C\u8BF7\u5237\u65B0\u91CD\u8BD5"),i=[]}else i=[]})},buildGiftTipCard:function(t){var i=this,e=parseInt(t.tbattr("data-proportion")),a=parseInt(t.tbattr("data-price")),s=Math.floor(a*(1-e/100));if(0!==s&&!isNaN(s)){i._visit_card&&(i._visit_card.closeCard(),i._visit_card=null);var r='<div class="marry-gift-tip-card-content">\u6536\u793C\u4EBA\u53EF\u83B7\u5F97 <i class="icon-tbean"></i><span class="orange-text" >'+s+"</span></div>",o={content:r,card_css:{width:200,zIndex:50002},auto_positon:!0,event_target:t,attr:"id='marry-gift-tip-card'",wrap:$("body")};i._visit_card=i.requireInstance("common/widget/Card",o),i._visit_card.showCard({type:"delayShow",time:200})}},hide:function(){this.dialog.hide()},show:function(){this.dialog.show()},buildInFloat:function(){this.dialog&&this.dialog.close();var t=this;this.loadTemplate(function(){t.dialog=new $.dialog({html:t.$root,title:'<img class="gift-selection-dialog-title-img" src="//tb2.bdstatic.com/tb/static-encourage/widget/pb_marry/img/gift_icon_0a6e722.png" />\u9001\u793C\u7269\uFF0C\u8D62\u6708\u8001\u6210\u5C31',width:690,holderClassName:"gift-selection-dialog"})})},checkLogin:function(){return PageData.user.is_login?!0:(this.requireInstanceAsync("common/widget/LoginDialog"),!1)},genOrder:function(t){var i=this.requireInstance("tbmall/widget/TbeanSafeAjax"),e=this,a=t;a.tbs=window.PageData.tbs,i.post(this.URL.sendGiftInPost,a,function(i){if(0==i.no&&i.data){var a=i.data,s={order_id:i.data.order_id,thread_id:t.post.thread_id,post_id:t.post.post_id,gift_from:2,price:e.gift.price,tbs:window.PageData.tbs};$.post(e.URL.saveOrder,s,function(){var t=e.requireInstance("common/widget/Tdou/TdouViewPay",function(t){t.data&&!t.data.no&&(e.showAlert("\u793C\u7269\u8D60\u9001\u6210\u529F\uFF01","\u793C\u7269\u8D60\u9001"),$.tb.location.reload())});t.createMain(a)})}else e.showAlert("\u8BA2\u5355\u51FA\u9519\uFF0C\u8BF7\u91CD\u8BD5","\u793C\u7269\u8D60\u9001"),$.tb.location.reload()})},showRefuseDialog:function(t){var i={title:"\u62D2\u7EDD\u6C42\u5A5A",content:"\u4F60\u786E\u5B9A\u8981\u62D2\u7EDD"+t+"\u7684\u6C42\u5A5A\uFF1F",tip:"",btns:'<a class="btn-middle btn-default" j-marry-refuse >\u786E\u5B9A</a>'};this.showDialog(i);var e=this;this.marryAttitudeDialog.element.on("click","[j-marry-refuse]",function(){var t={post_id:e.post_id,thread_id:e.thread_id,forum_id:PageData.forum.forum_id,user_name:e.user_name,tbs:PageData.tbs};$.post(e.URL.refuse,t,function(t){if(t){switch(t.no){case 0:e.showAlert("\u62D2\u7EDD\u6C42\u5A5A\u6210\u529F! ");break;case 2670010:e.showAlert("\u4F60\u4EEC\u5176\u4E2D\u4E00\u4E2A\u4EBA\u5DF2\u7ECF\u7ED3\u5A5A\uFF0C\u6C42\u5A5A\u5931\u8D25! ");break;default:e.showAlert("\u62D2\u7EDD\u6C42\u5A5A\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5! ")}setTimeout(function(){$.tb.location.reload()},1e3)}else e.showAlert("\u670D\u52A1\u5668\u62BD\u98CE\u4E86\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5! ")})})},showAgreeDialog:function(t){var i={title:"\u63A5\u53D7\u6C42\u5A5A",content:"\u60A8\u613F\u610F\u6210\u4E3A"+t+"\u7684\u7231\u4EBA\u5417\uFF1F",tip:"\u7B54\u5E94TA\u7684\u6C42\u5A5A\u540E\uFF0C\u5728\u4E2A\u4EBA\u4E2D\u5FC3\u4F1A\u51FA\u73B0\u7231\u4EBA\u6807\u8BC6\uFF0C\u8BC1\u660E\u60A8\u5DF2\u6210\u5A5A\u3002",btns:'<a class="btn-middle btn-default"  j-marry-agree >\u6211\u613F\u610F</a>'};this.showDialog(i);var e=this;this.marryAttitudeDialog.element.on("click","[j-marry-agree]",function(){var t={post_id:e.post_id,thread_id:e.thread_id,forum_id:PageData.forum.forum_id,user_name:e.user_name,tbs:PageData.tbs};$.post(e.URL.accept,t,function(t){if(t){switch(t.no){case 0:e.showAlert("\u63A5\u53D7\u6C42\u5A5A\u6210\u529F! ");break;case 2670010:e.showAlert("\u4F60\u4EEC\u5176\u4E2D\u4E00\u4E2A\u4EBA\u5DF2\u7ECF\u7ED3\u5A5A\uFF0C\u6C42\u5A5A\u5931\u8D25! ");break;default:e.showAlert("\u63A5\u53D7\u6C42\u5A5A\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5! ")}setTimeout(function(){$.tb.location.reload()},1e3)}else e.showAlert("\u670D\u52A1\u5668\u62BD\u98CE\u4E86\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5! ")})})},showDialog:function(t){var i=this;this.marryAttitudeDialog&&this.marryAttitudeDialog.close(),this.marryAttitudeDialog=null,this.marryAttitudeDialog=new $.dialog({title:t.title,html:'<p class="marry-dialog-content" >'+t.content+'<p><p class="marry-dialog-tip" >'+t.tip+'</p><div class="marry-dialog-btn-wrapper" ><a class="btn-middle btn-sub" j-marry-dialog-close >\u518D\u60F3\u60F3</a>'+t.btns+"</div>",width:500,holderClassName:"marry-dialog"}),this.marryAttitudeDialog.element.on("click","[j-marry-dialog-close]",function(){i.marryAttitudeDialog.close()})},showAlert:function(t,i){new $.dialog({title:i?i:"\u63D0\u793A",html:'<p style="text-align:center" >'+t+"</p>"})}}});_.Module.define({path:"common/widget/Tdou/TdouViewPay",requires:["common/widget/Tdou/TdouBuilder","common/widget/Tdou/TdouData","common/widget/Tdou/TdouViewUtil","common/widget/Tdou/TdouViewAutoRedirect","common/widget/Tdou/TdouViewOperationBootstrap","common/widget/payMember"],sub:{errors:{110000:"\u7528\u6237\u672A\u767B\u9646",2320007:"\u7CFB\u7EDF\u9519\u8BEF\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5",210009:"\u7CFB\u7EDF\u9519\u8BEF\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5",2270044:"\u8D26\u53F7\u5F02\u5E38\uFF0C\u8BF7\u91CD\u65B0\u767B\u9646",2270047:"\u652F\u4ED8\u5931\u8D25\u2014\u8BA2\u5355\u5931\u6548",2270050:"\u8BA2\u5355\u72B6\u6001\u5F02\u5E38",2270049:"\u5546\u54C1\u8FC7\u671F\uFF0C\u8BF7\u91CD\u65B0\u8D2D\u4E70",2270015:"\u5546\u54C1\u4E0D\u53EF\u5151\u6362",2270051:"\u7CFB\u7EDF\u7EF4\u62A4\u4E2D..."},order_status:{0:"\u652F\u4ED8\u672A\u5B8C\u6210\uFF01",1:"\u652F\u4ED8\u6210\u529F\uFF0C\u5546\u54C1\u5151\u6362\u4E2D\uFF01",2:"\u5151\u6362\u6210\u529F",3:"\u5151\u6362\u5931\u8D25\uFF0CT\u8C46\u5DF2\u9000\u8FD8",4:"\u5151\u6362\u8D85\u65F6\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458"},tdou_buy_confirm_tag:"tdou_buy_confirm",is_iframe:!0,initial:function(e){this.builder=this.requireInstance("common/widget/Tdou/TdouBuilder"),this.dataProxy=this.requireInstance("common/widget/Tdou/TdouData"),this.viewUtil=this.requireInstance("common/widget/Tdou/TdouViewUtil"),this.message=e,this.autoDirect=this.requireInstance("common/widget/Tdou/TdouViewAutoRedirect")},createMain:function(e){var o=this;o.notShowSucTips=e.notShowSucTips,o.dataProxy.getPayInfo(e,o.onPayInfo,o)},onPayInfo:function(e){var o=this;if(e&&0===e.no){var t=e.data.goods_info,i=e.data.order_info,r=e.data.user_info;o.pay_info={goods_info:t,order_info:i,user_info:r},o.createUI(t,i,r)}else o.handleError(e.no)},createUI:function(e,o,t){var i=this,r="",n=t.Parr_props;i.dataProxy.setParrProps(n);var a=i.dataProxy.getMemberLevel(),d=2==a,u=t.Parr_scores,_=0;u&&(_=u.scores_money+u.scores_other);var s=_>=e.tdou_num,c=0;s||(c=e.tdou_num-_);var m=e.free_vip_level;if(s&&(o.cpath.pay_cashier||void 0==o.cpath.pay_cashier))return i.pay(!1),void 0;if(!s&&(o.cpath.gettdou_cashier||void 0==o.cpath.gettdou_cashier))return i.getTdou(!1),void 0;var l=i.confirmCount();return s&&l>0?(l-=1,i.confirmCount(l),i.pay(!1),void 0):(d&&m?r=i.createUI_memberGetTdou_free(s,e,o,c):d&&!m?r=i.createUI_memberGetTdou(s,e,o,c):!d&&m?r=i.createUI_nonMemberGetGoodsOwnedMember(s,e,o,c):d||m||(r=i.createUI_nonMemberGetTdouOwnedMember(s,e,o,c)),i.renderMain(r),i.initUIData(),i.bindMainUIEvents(),void 0)},directToCrasher:function(e,o,t){var i=this,r=t.Parr_props;i.dataProxy.setParrProps(r);var n=t.Parr_scores,a=0;n&&(a=n.scores_money+n.scores_other);var d=a>=e.tdou_num,u=0;d||(u=e.tdou_num-a),d?i.pay(!1):i.getTdou(!1)},initUIData:function(){var e=this,o=e.confirmCount(),t=$(".j_baidu_tb_tdou_pay_info_box .j_tdou_buy_confirm");t.length>0&&(parseInt(o)>0?t.tbattr("checked",!0):t.tbattr("checked",!1))},createUI_nonMemberGetGoodsOwnedMember:function(e,o,t,i){o.tdou_pay_from=t.from;var r=this.builder.buildPayTdouMain_nonMemberGetGoodsOwnedMember(e,o,t,i);return r},createUI_nonMemberGetTdouOwnedMember:function(e,o,t,i){o.tdou_pay_from=t.from;var r=this.builder.buildPayTdouMain_nonMemberGetTdouOwnedMember(e,o,t,i);return r},createUI_memberGetTdou:function(e,o,t,i){o.tdou_pay_from=t.from;var r=this.builder.buildPayTdouMain_memberGetTdou(e,o,t,i);return r},createUI_memberGetTdou_free:function(e,o,t,i){o.tdou_pay_from=t.from;var r=this.builder.buildPayTdouMain_memberGetTdou_freeGoods(e,o,t,i);return r},renderMain:function(e){if(!($(".baidu_tb_tdou_payment_dialog").length>0)){var o={modal:!0,showTitle:!1,fixed:!0,width:610,height:275,holderClassName:"baidu_tb_tdou_payment_dialog",draggable:!0};o.html=e,this._dialog=new $.dialog(o),this._dialog.element[0].id="baidu_tb_tdou_payment_dialog",this._dialog.show()}},bindMainUIEvents:function(){var e=this;if(!e._dialog)return!1;var o=e._dialog.element;o.find(".j_tdou_pay_header_close").on("click",function(){e.closeMain(),e.sendMessage("closed","");var o=e.requireInstance("common/widget/Tdou/TdouViewOperationBootstrap"),t={actionType:"CLOSE_PAYMENT"};o.triggerByScene(t,e.pay_info)}),o.delegate(".j_tb_tdou_pay_btn","click",function(){e.pay()}).delegate(".j_tb_tdou_get_tdou_btn","click",function(){e.getTdou()}).delegate(".j_tdou_enable_member","click",function(){var e=$(".j_baidu_tb_tdou_pay_info_box .j_tb_tdou_get_tdou_btn");$(this).tbattr("checked")?(e.html("\u5F00\u901A\u4F1A\u5458\u5E76\u83B7\u53D6T\u8C46"),e.addClass("tdou_pay_btn_135")):(e.html("\u83B7\u53D6T\u8C46"),e.removeClass("tdou_pay_btn_135"))}).delegate(".j_tdou_buy_confirm","click",function(){$(this).tbattr("checked")?e.confirmCount(30):e.confirmCount(0)}).delegate(".j_tdou_buy_icon","click",function(){e.getIcon()}).delegate(".j_tdou_open_super_member_link","click",function(){e.closeMain();var o=e.requireInstance("common/widget/payMember"),t={fr:"tbui_tdou_view_pay"};o.showCashier(t)})},pay:function(e){var o=this,t=e;"undefined"==typeof e&&(t=!0);var i={no_ui:t};o.dataProxy.payGoods(o.onPay,o,i)},onPay:function(e,o){var t=this;o&&!o.no_ui?t.wrap=null:(t.wrap=null,t.closeMain());var i=t.dataProxy.getPayInfoCache();if(0===e.no){var r={from:i.order_info.from,goods_name:$.tb.subByte(i.goods_info.goods_name,24,""),order_status:e.data.order_info.status,price:i.goods_info.tdou_num};t.viewUtil.displayPaymentSuccess(t.wrap,r,function(){t.closeMain(),t.sendMessage("paid",e)},t,t.notShowSucTips)}else t.viewUtil.displayPaymentFailed(t.wrap,$.tb.subByte(i.goods_info.goods_name,24,""),function(){t.closeMain(),t.sendMessage("paid",e)},t)},getTdou:function(e){var o=this,t=!1,i=e;"undefined"==typeof e&&(i=!0),i?(t=$(".j_baidu_tb_tdou_pay_info_box .j_tdou_enable_member").tbattr("checked"),this.closeMain()):t=!1;var r=o.dataProxy.getPayInfoCache(),n=r.order_info.cpath,a={consumption_path:r.order_info.scene_id,title:"\u7B2C\u4E09\u65B9\u652F\u4ED8:\u83B7\u53D6T\u8C46",need_tdou:0,third_order_id:r.order_info.order_id,goods_cost_tdou:r.goods_info.tdou_num};t?($.extend(a,{title:"\u7B2C\u4E09\u65B9\u652F\u4ED8:\u5F00\u901A\u8D85\u7EA7\u4F1A\u5458,\u83B7\u53D6T\u8C46",pay_type:7,tbs:r.tbs}),n&&"1"==n.purchase&&$.extend(a,{title:"\u7B2C\u4E09\u65B9\u652F\u4ED8:\u5F00\u901A\u8D85\u7EA7\u4F1A\u5458,\u83B7\u53D6T\u8C46,\u8D2D\u4E70\u5546\u54C1",pay_type:9,tbs:r.tbs})):n&&"1"==n.purchase&&$.extend(a,{title:"\u7B2C\u4E09\u65B9\u652F\u4ED8:\u8D2D\u4E70\u5546\u54C1,\u83B7\u53D6T\u8C46",pay_type:8,third_order_id:r.order_info.order_id,tbs:r.tbs}),o.goCashier(a,i)},goCashier:function(e,o){var t=this,i={consumption_path:e.consumption_path,title:e.desc,need_tdou:e.current_need_tdou,goods_cost_tdou:e.goods_cost_tdou||0,pay_type:e.pay_type||6,tbs:e.tbs,order_id:e.third_order_id,is_dialog:!o,pay_info:t.pay_info};this.autoDirect.display_type="third_app",this.autoDirect.third_order_id=e.third_order_id,this.autoDirect.createMain(i)},getIcon:function(){var e=this;e.closeMain();var o=e.dataProxy.getPayInfoCache();e.view=this.requireInstance("common/widget/Tdou/TdouView"),e.view.bind("after_buy_icon",function(t,i){var r=o.goods_info,n=o.order_info,a=o.user_info;null!=i&&(a.Parr_scores=i),e.createUI(r,n,a)},e);var t=o.order_info.scene_id,i="\u7B2C\u4E09\u65B9\u8D2D\u4E70icon",r=o.goods_info.tdou_num;e.view.createMain(t,i,r)},closeMain:function(){this._dialog&&this._dialog.close(),this.dialog=null},confirmCount:function(){var e=this,o=arguments[0],t=0,i=new Date,r=i.getFullYear()+""+(i.getMonth()+1)+i.getDate();if("undefined"!=typeof o){t=parseInt(o);var n=r+"#"+t;$.tb.Storage.set(e.tdou_buy_confirm_tag,n)}else{if(o=$.tb.Storage.get(e.tdou_buy_confirm_tag),null==o)return 0;var a=o.split("#");t=a&&2==a.length&&a[0]==r?parseInt(a[1]):0}return t},sendMessage:function(e,o){var t=this,i=null;"closed"==e?i={command:"encourage_dialog_closed",data:o}:"paid"==e&&(i={command:"encourage_paid",data:o}),t.message&&t.message(i)},handleError:function(e){if(e){var o=this,t=o.errors[e];return 11e4==e?(o.viewUtil.OpenLoginDialog(),void 0):(t?o.viewUtil.displayPaymentError(t):o.viewUtil.displayPaymentError("\u672A\u77E5\u9519\u8BEF"),void 0)}}}});_.Module.define({path:"adsense/widget/data_handler_async",requires:[],sub:{initial:function(){},addData:function(t){$.extend(this._Storage.data,t)},getData:function(){return $.extend(null,this._Storage.data)},_Storage:function(){var t={};return{data:t}}()}});_.Module.define({path:"adsense/widget/loader",requires:["common/widget/messenger"],sub:{adStatus:{},initial:function(){this._initMessenger()},adBlockDet:function(e,t){if("undefined"==typeof document.body)return!0;var a="v1.0",n=document.createElement("DIV");t=t||"sponsorText",n.id=t,n.style.position="absolute",n.style.left="-999px",n.appendChild(document.createTextNode("&nbsp;")),document.body.appendChild(n),setTimeout(function(){if(n){var t=0===n.clientHeight;try{}catch(o){window.console&&window.console.log&&window.console.log("ADBlock detection error:",o)}e(t,a),document.body.removeChild(n)}},175)},_getAdLocName:function(e){return[e.client_type,e.page_name,e.pos_name].join("_")},adDomMap:function(){var e={},t=function(t,a){e[t]=a},a=function(t){return e[t]||$("")};return{add:t,get:a}}(),loadAD:function(e,t,a){try{var n=e.adData||{},o=e.className||"",i=e.asyncHTML||"",r=(e.isProxy||!1,e.isAsync||!1),d=e.isIframe||!1,s=e.needStats||!1;$.extend(n,{className:o});"function"==typeof t&&(a=t,t={});var c=null;if(r){if(c=$(i),!c)return;this._renderDOM(n,c)}else c=$("."+o);if(d){var u=$.getPageData("goods_info.0.iframe_url","",n),l=this._getIframeParams(n,t);if(!u)return;this._loadIframe(c,u,l),this.adDomMap.add(n.id,c)}else r&&c.show();"function"==typeof a&&a(c),s&&this._clickStats(c,n),this._viewStats(c,n)}catch(f){}},_logger:function(e,t){var a=this,n=this._getStatsParams(t);a._track($.extend({},n,{locate:t.pos_name,da_locate:t.pos_name,type:e,da_type:e}))},_renderDOM:function(e,t){$(e.locator).length>0?$(e.locator)[e.load_type](t):this._track(e.id+"\uFF1A\u65E0\u5B9A\u4F4D\u5143\u7D20","\u5E7F\u544A\u52A0\u8F7D\u5931\u8D25")},_getStatsParams:function(e){var t="",a=$.getPageData,n={client_type:"pc_web",task:"tbda",page:a("product",t).toLowerCase(),fid:a("forum.forum_id",t),tid:a("thread.thread_id",t),uid:a("user.user_id",t),da_task:"tbda",da_fid:a("forum.forum_id",t),da_tid:a("thread.thread_id",t),da_uid:a("user.user_id",t),da_page:a("product",t),da_type_id:e.typeid,da_obj_id:e.id,da_good_id:e.goods_info[0].id,da_obj_name:e.name,da_first_name:e.first_name,da_second_name:e.second_name,da_cpid:e.cpid,da_abtest:e.abtest,da_price:e.price,da_verify:e.verify,da_plan_id:e.plan_id,da_ext_info:e.ext_info,da_client_type:e.client_type,da_throw_type:e.throw_type,da_loc_param:a("goods_info.0.loc_param",t,e),da_loc_index:e.loc_index};return n},_getIframeParams:function(e,t){var a,n,o,i="",r=$.getPageData,d={dapage:r("product",i).toUpperCase(),dafid:r("forum.forum_id",i),datid:r("thread.thread_id",i),dauid:r("user.user_id",i),datypeid:e.typeid,daid:e.id,dacssclass:e.className,dagoodid:e.goods_info[0].id,token:e.zhixin_token,daname:encodeURIComponent(e.name),dafirstname:encodeURIComponent(e.first_name),dasecondname:encodeURIComponent(e.second_name),dacpid:e.cpid,daabtest:e.abtest,daprice:e.price,daverify:e.verify,daplanid:e.plan_id,daserid:e.user_id,dathrowtype:e.throw_type,title:PageData.forum.name||"",url:encodeURIComponent($.tb.location.getHref())},s={},c={},u=e.goods_info[0].url_query;try{c=$.json.decode($.tb.unescapeHTML(u));for(a in c)if(c.hasOwnProperty(a))if("custom"==a){for(n in c[a])if(c[a].hasOwnProperty(n))switch(n){case"zhixintoken":o=c[a][n],s[o]=e.zhixintoken;break;case"forumNameGBK":o=c[a][n],s[o]=e.forumNameGBK}}else if("throw_thread"==a)for(n in c[a])c[a].hasOwnProperty(n)&&(o=c[a][n],s[o]=e[n]);else for(n in c[a])c[a].hasOwnProperty(n)&&(o=c[a][n],s[o]=encodeURIComponent(r(a+"."+n)))}catch(l){}return $.extend(!0,d,s||{},t||{}),d.length>900&&(d=d.substring(0,900)),d},_loadIframe:function(e,t,a){var n=this._addParam(t,a),o=e.find(".iframe_wrapper"),i='<iframe src="'+n+'" scrolling="no" frameborder="0"></iframe>';o.append(i)},_initMessenger:function(){var e=$.getPageData("adsense.messenger",null,window);if(!e)try{e=this.requireInstance("common/widget/messenger",["parent","checkStatus"]),e.registerOrigin(this._getMessengerWhitelist()),e.registerCommand({comforum_adsense:$.proxy(this._handleMessengerData,this)}),window.adsense={messenger:e,iframeApiUrl:"//tb1.bdstatic.com/tb/_/iframe_api_7e50cb3.js"}}catch(t){}},_getMessengerWhitelist:function(){try{var e=0,t=[],a=PageUnit.load("dasense_messenger_whitelist"),n=a.length;for(e;n>e;e++)t.push(a[e][0]);return t}catch(o){}},_handleMessengerData:function(e){var t=this.adDomMap.get(e.id);if(t){var a=t.find(".iframe_wrapper");"success"===e.status?(e.height<a.height()&&a.height(e.height),t.removeClass("hide_style").show()):t.slideUp()}},_addParam:function(e,t){var a="",n=[],o=-1===e.indexOf("?")?"?":"&";for(var i in t)t.hasOwnProperty(i)&&n.push(i+"="+t[i]);return a=n.join("&"),e+o+a},_clickStats:function(e,t){var a=this,n=this._getStatsParams(t);t.imTimeSign&&Number(t.imTimeSign)&&a.ck(e.find(".j_click_stats"),t.imTimeSign),e.on("click",".j_click_stats",function(){var e=$(this).data("locate")?"_"+$(this).data("locate"):"",o=t.pos_name+e;a._track($.extend({},n,{locate:o,da_locate:o,type:"click",da_type:"click"})),a._track($.extend({},n,{locate:o,da_locate:o,type:"click",da_type:"click"}),"/billboard/pushlog/?"),a._track($.extend({},n,{locate:o,da_locate:o,type:"click",da_type:"click",baiduid:$.cookie("BAIDUID")||""}),"//als.baidu.com/dalog/logForW?")})},_viewStats:function(e,t){var a=this,n=!1,o=null,i=this._getStatsParams(t),r=(this._getAdLocName(t),$.extend({},i,{locate:t.pos_name,da_locate:t.pos_name,type:"show",da_type:"show"}),function(){n||(a._track($.extend({},i,{locate:t.pos_name,da_locate:t.pos_name,type:"show",da_type:"show"})),a._track($.extend({},i,{locate:t.pos_name,da_locate:t.pos_name,type:"show",da_type:"show"}),"/billboard/pushlog/?"),a._track($.extend({},i,{locate:t.pos_name,da_locate:t.pos_name,type:"show",da_type:"show",baiduid:$.cookie("BAIDUID")||""}),"//als.baidu.com/dalog/logForW?"),a.adBlockDet(function(e){e&&-1!=="p0001,p0004,p0239,p0006,p0253,p0242".split(",").indexOf(t.loc_code)&&a._track($.extend({},{ad_id:t.id,ad_tpl_name:t.tpl_name,ad_browser_ua:window.navigator.userAgent}),"//als.baidu.com/smalllog/logForAdFilter?")}),n=!0)}),d=function(){var t=e.offset().top,a=e.offset().top+e.height(),n=$(window).scrollTop(),o=$(window).height()+n,i=!1;return(t>n&&o>=t||a>n&&o>=a)&&(i=!0),i},s=$.getPageData("goods_info.0.statsCommand",null,t);s?this.observe(s,function(){d()&&(clearTimeout(o),o=setTimeout(r,200))}):d()?r():($(window).on("scroll",function(){d()&&(clearTimeout(o),o=setTimeout(r,200))}),d()&&(clearTimeout(o),o=setTimeout(r,200)),$(window).on("scroll"))},_track:function(e,t){if(document.images){var a=new Image;window["bd_pv_"+(new Date).getTime()]=a;var n=t||("https:"===location.protocol?"https://gsp0.baidu.com/5aAHeD3nKhI2p27j8IqW0jdnxx1xbK/tb/img/track.gif?":"http://static.tieba.baidu.com/tb/img/track.gif?"),o=["t="+(new Date).getTime(),"r=1"+Math.random().toString().slice(2,17)];for(var i in e)e.hasOwnProperty(i)&&o.push(i+"="+encodeURIComponent(e[i]));a.onload=a.onerror=function(){a=null},a.src=n+o.join("&")}},loadCustomJS:function(e){var t=null;e.js&&(t=$.proxy(new Function("$e","PageData","window",e.js),{}),t(e.dom,void 0,void 0))},ck:function(){function e(){var e=b.href,a=b.getAttribute(x),n=t(e);return n=n||t(a)}function t(e){if(!e)return!1;var t=k.exec(e)||D.exec(e);return t?k.exec(e)?t[1].length<20?t[1]:t[1].substr(0,20):t[1]:!1}function a(t){var a=e();if(a!==!1){var o=r(a,t);n(o)}}function n(e){var t="&ck="+[e,p,$,Math.round(m),Math.round(h),Math.round(f),Math.round(_),y].join("."),a=b.href,n=b.getAttribute(x);a&&(b.href=i(a,t)+o(a)),n&&b.setAttribute(x,i(n,t)+o(n))}function o(e){var t="";if(-1===e.indexOf("&shh=")&&-1===e.indexOf("?shh=")&&(t="&shh="+location.hostname),-1===e.indexOf("&sht=")&&-1===e.indexOf("?sht=")){var a=location.href.match(I);a&&(t+="&sht="+a[1])}return t}function i(e,a){return t(e)&&(-1==e.indexOf("&ck=")?e+=a:e=e.replace(/&ck=[\d.]*/,a)),e}function r(e,t){for(var a=0,n=0;p*t%99+9>n;n++)a+=e.charCodeAt($*n%e.length);return a}function d(e){e=e||window.event,p++,void 0===f&&(f=e.clientX),void 0===_&&(_=e.clientY),g=(new Date).getTime()}function s(e,t){for(e=e||window.event,b=e.target||e.srcElement;b&&"A"!=b.tagName;)b=b.parentNode;w=(new Date).getTime(),$=9999,m=e.clientX,h=e.clientY,y=0===g?0:w-g,a(t)}function c(e,t){v=(new Date).getTime(),$=v-w,a(t)}function u(e,t,a){var n,o,i;for(i in t)n=t[i],o=a[i],window.attachEvent?e.attachEvent("on"+n,o):e.addEventListener(n,o,!1)}function l(e){return[function(e){d(e)},function(t){s(t,e)},function(t){c(t,e)}]}var f=void 0,_=void 0,m=0,h=0,p=0,g=0,w=0,v=0,y=0,$=0,b=0,k=/link\?url\=([^\&]+)/,D=/\?url\=([^\.]+)\./,x="data-cklink",I=/[?&]tn=([^&]*)/,P=function(e,t){void 0===e.length&&(e=[e]);for(var a=e.length,n=0,o=l(t);a>n;n++)u(e[n],["mouseover","mousedown","mouseup"],o)};return P}(),allPost:function(){var e=this,t=$("#j_p_postlist .j_l_post").filter(function(){return!/[a-z0-9]{10}/.exec(this.className)});if(t.length){var a={},n=[],o=function(){var e=$.cookie("BAIDUID")||"";if(e){a={};for(var t=e.substr(0,32),n=function(e){return e=(e+"").replace(/[^a-f0-9]/gi,""),parseInt(e,16)},o=new Date,i=o.getFullYear(),r=o.getMonth(),d=o.getDate(),s=Math.round((new Date).getTime()/1e3),c=new Date(i,1,1,0,0,0,0).getTime()/1e3,u=parseInt((s-c)/86400),l="",f=0;8>f;f++){var _=parseInt(n(t.substr(4*f,4))%10)+"";l+=_}l=Number(l)+48*u;var m=parseInt(l%2e3);if(0>m||m>=48)return!1;var h=1;1==parseInt(m%2)&&(h=2);var p=parseInt(m/2),g=p+1,w=new Date(i,r,d,p,0,0,0).getTime()/1e3,v=new Date(i,r,d,g,0,0,0).getTime()/1e3;return v>(s>w)?(a={eid:h},!0):!1}},i=function(o){if(o&&"show"!=o||$.each(t,function(){if("_show"===$(this).tbattr("showed")){$(this).tbattr("showed","true");var e=t.index($(this))+1,a=$(this).data("field").content.thread_id,o=$(this).data("field").content.post_id;n.push({locate:e,tid:a,pid:o})}}),PageData.forum)var i=PageData.forum.first_class,r=PageData.forum.second_class,d=PageData.forum.id;o="click"===o?2:3;var s={productId:2,_client_type:0,cuid:$.cookie("BAIDUID")||"",da_type:o,da_page:"PB",da_menu1:i,da_menu2:r,fid:d,ext_info:$.json.encode(a),infos:$.json.encode(n)};e._track(s,"//als.baidu.com/flog/logGFeed?")},r=function(){var e=function(){n=[];var e=!1;return $.each(t,function(){var t=$(this).offset().top,a=$(this).offset().top+$(this).height(),n=$(window).scrollTop(),o=$(window).height()+n;(t>n&&o>=t||a>n&&o>=a)&&($(this).tbattr("showed")||($(this).tbattr("showed","_show"),e=!0))}),e},a=null;$(window).on("scroll",function(){o()&&e()&&(clearTimeout(a),a=setTimeout(i,200))}),o()&&e()&&(clearTimeout(a),a=setTimeout(i,200)),$(window).on("scroll")};r()}}}});_.Module.define({path:"props/widget/Residual",requires:[],sub:{initial:function(i){this.dataObj=i,this.initOptions()},initOptions:function(){this.options={1070001:"worship",1070002:"egg"}},getResidualKey:function(i){for(var e=i.props||{},s=null,n="",t=["1070002","1070001"],a=0;a<t.length;a++)if(s=e[t[a]],s&&s.num>0&&s.end_time>Env.server_time/1e3){n=this.options[t[a]];break}return n},showUI:function(i){var e=i.wrap,s="",n=null,t=i.key||this.getResidualKey(i);t&&(s="residual_wrap residual_wrap_"+t,n=e.find(".residual_wrap"),n[0]?n.removeClass().addClass(s):(n=$('<div class="'+s+'"></div>'),e.append(n)))}}});_.Module.define({path:"user/widget/SingleIcons",requires:["common/widget/Card"],sub:{_card:null,initial:function(){this._wrap=$("body"),this._bindEvents()},_bindEvents:function(){var t=this;t._wrap.on("mouseenter",".j_singleforum_show",function(o){o.currentTarget===this&&t._buildCard(this)}).on("mouseleave",".j_singleforum_show",function(){return t._card&&t._card.closeCard(),t._card=null,!1})},_buildCard:function(t){var o=$(t),e=o.getData(),n=this;e&&$.post("/icon/getForumNameByForumId",{forum_id:e.forum_id,tbs:PageData.tbs,ie:"utf-8"}).success(function(t){0==t.no&&n._buildPop(o,t.data)})},_getAllForumName:function(t){var o=[];for(var e in t)t.hasOwnProperty(e)&&o.push(t[e].forum_name);return o.join(",")},_buildPop:function(t,o){var e=this,n=e._getAllForumName(o),i="\u53EA\u5728"+n+"\u5427\u5C55\u793A",r=t.offset().left-50+t.width()/2,a=t.offset().top-18-12;this._card=this.use("common/widget/Card",{content:i,card_css:{top:a,left:r,width:100},clazz:"single_icon_class",auto_positon:!1,event_target:t,wrap:$("body")}),this._card.showCard({type:"delayShow",time:200})}}});window._TBAnimateWidgetNS=window._TBAnimateWidgetNS||function(){function t(t,n){var a=Number(arguments[2])||0;if(Array.prototype.indexOf)return t.indexOf(n,a);var i=t.length||0;for(a=0>a?Math.ceil(a):Math.floor(a),0>a&&(a+=i);i>a;a++)if(a in t&&t[a]===n)return a;return-1}var n,a=!(!document.all||window.atob),i=[],o=[],e=function(n){("string"!=typeof n||""===n)&&(n="bounce",console.warn("\u6CA1\u6709\u7ED9Animator\u5BF9\u8C61\u6307\u5B9A\u52A8\u753B\uFF0C\u9ED8\u8BA4\u4F7F\u7528bounce\uFF0C\u9ED8\u8BA4\u52A8\u753B\u652F\u6301\uFF1Ahttp://daneden.github.io/animate.css/")),t(i,n)>=0?this.name=n:t(i,"animate_keyframes_"+n)>=0?this.name="animate_keyframes_"+n:(console.warn("\u52A8\u753B\u5E27\u540D\u79F0\u672A\u6CE8\u518C\uFF0C\u8BE6\u60C5\u8BF7\u770B\uFF1Ahttp://agroup.baidu.com/ucapp/md/article/30446"),this.name=n),this.options={delay:0,repeat:1,duration:1,direction:"normal"},this.eventsCallback={onplay:[],onend:[],onrepeat:[]},this.animation=this.name+" 1s linear 0s 1 normal both"};e.EVENTS=function(){function t(t){return t=t||"",{start:t+"AnimationStart",end:t+"AnimationEnd",iteration:t+"AnimationIteration"}}function a(t){return t=t||"",{start:t+"animationstart",end:t+"animationend",iteration:t+"animationiteration"}}function i(){var i=["webkit","Moz","O",""],o=document.documentElement.style;if(void 0!==o.animationName)return a();var e,r;for(n=0,e=i.length,r;e>n;n++)if(r=i[n],void 0!==o[r+"AnimationName"]){if(0===n)return t(r.toLowerCase());if(1===n)return a();if(2===n)return a(r.toLowerCase())}return{}}return i()}();var r={};return r.register=function(t){if("string"==typeof t&&""!==t)i.push(t);else if(t instanceof Array)for(n=0;n<t.length;n++){var a=t[n];r.register(a)}else console.warn("\u6CA1\u6709\u4F20\u5165\u81EA\u5B9A\u4E49\u5173\u952E\u5E27\u7684\u540D\u79F0\uFF0C\u8BE6\u60C5\u8BF7\u770B\uFF1Ahttp://agroup.baidu.com/ucapp/md/article/30446")},r.pause=function(n,a){if(void 0===n||null===n)return console.warn("\u6CA1\u6709\u6307\u5B9A\u64CD\u4F5C\u7684DOM\uFF0C\u8BE6\u60C5\u8BF7\u770B\uFF1Ahttp://agroup.baidu.com/ucapp/md/article/30446"),void 0;var i=$(n);i.each(function(){var n=t(o,this);if(n>-1){var i=$(this);!a&&"paused"===i.css("animation-play-state")||"paused"===i.css("-webkit-animation-play-state")||"paused"===i.css("-moz-animation-play-state")||"paused"===i.css("-o-animation-play-state")?i.css({"animation-play-state":"","-webkit-animation-play-state":"","-moz-animation-play-state":"","-o-animation-play-state":""}):i.css({"animation-play-state":"paused","-webkit-animation-play-state":"paused","-moz-animation-play-state":"paused","-o-animation-play-state":"paused"})}})},r.stop=function(n){if(void 0===n||null===n)return console.warn("\u6CA1\u6709\u6307\u5B9A\u64CD\u4F5C\u7684DOM\uFF0C\u8BE6\u60C5\u8BF7\u770B\uFF1Ahttp://agroup.baidu.com/ucapp/md/article/30446"),void 0;var a=$(n);a.each(function(){var n=t(o,this);n>-1&&o.splice(n,1)}),a.off(e.EVENTS.start).off(e.EVENTS.iteration).off(e.EVENTS.end).css({animation:"","-webkit-animation":"","-moz-animation":"","-o-animation":""})},r.toggle=function(t){var n=function(){},a=0;return t instanceof Array||t.length>0?n=function(n){t[a].play(n,!0),a=(a+1)%t.length}:console.warn("\u8BF7\u81F3\u5C11\u5411\u52A8\u753B\u5217\u8868\u653E\u5165\u4E00\u4E2AAnimator\u5BF9\u8C61\uFF0C\u8BE6\u60C5\u8BF7\u770B\uFF1Ahttp://agroup.baidu.com/ucapp/md/article/30446"),{play:n}},e.prototype={config:function(t){t=t||{};for(var n in t)this.options[n]=t[n];return this.animation=this.name+" "+this.options.duration+"s linear "+this.options.delay+"s "+this.options.repeat+" "+this.options.direction+" both",this},play:function(i,r){if(void 0!==i&&null!==i){var s=$(i);for(s.each(function(){if(t(o,this)>-1)try{1===+$.tb.location.getSearchValue("debug")&&console.warn("\u8BE5DOM\u8282\u70B9\u5DF2\u7ECF\u5728\u52A8\u753B\u4E2D\uFF01\u65B0\u52A0\u52A8\u753B\u4F1A\u5C06\u8001\u52A8\u753B\u7684\u4E8B\u4EF6\u7ED1\u5B9A\u5168\u90E8\u53D6\u6D88\uFF0C\u4EE5\u514D\u9020\u6210\u6027\u80FD\u95EE\u9898\u3002")}catch(n){console.warn(n)}else o.push(this)}),s.off(e.EVENTS.start).off(e.EVENTS.iteration).off(e.EVENTS.end).one(e.EVENTS.end,function(){r||s.css({animation:"","-webkit-animation":"","-moz-animation":"","-o-animation":""}),s.off(e.EVENTS.iteration);var n=t(o,this);n>-1&&o.splice(n,1)}),n=0;n<this.eventsCallback.onplay.length;n++)s.one(e.EVENTS.start,this.eventsCallback.onplay[n]);for(n=0;n<this.eventsCallback.onrepeat.length;n++)s.on(e.EVENTS.iteration,this.eventsCallback.onrepeat[n]);for(n=0;n<this.eventsCallback.onend.length;n++)s.one(e.EVENTS.end,this.eventsCallback.onend[n]);a?setTimeout(function(){s.trigger(e.EVENTS.start);var t=this.options.repeat,n=setInterval(function(){t>0?(s.trigger(e.EVENTS.iteration),t--):(s.trigger(e.EVENTS.end),clearInterval(n))},1e3*this.options.duration)},1e3*this.options.delay):s.css({animation:this.animation,"-webkit-animation":this.animation,"-moz-animation":this.animation,"-o-animation":this.animation})}return this},onplay:function(t){return"function"==typeof t?this.eventsCallback.onplay.push(t):console.warn("\u8BF7\u4F20\u5165\u4E8B\u4EF6\u54CD\u5E94\uFF0C\u8BE6\u60C5\u8BF7\u770B\uFF1Ahttp://agroup.baidu.com/ucapp/md/article/30446"),this},onrepeat:function(t){return"function"==typeof t?this.eventsCallback.onrepeat.push(t):console.warn("\u8BF7\u4F20\u5165\u4E8B\u4EF6\u54CD\u5E94\uFF0C\u8BE6\u60C5\u8BF7\u770B\uFF1Ahttp://agroup.baidu.com/ucapp/md/article/30446"),this},onend:function(t){return"function"==typeof t?this.eventsCallback.onend.push(t):console.warn("\u8BF7\u4F20\u5165\u4E8B\u4EF6\u54CD\u5E94\uFF0C\u8BE6\u60C5\u8BF7\u770B\uFF1Ahttp://agroup.baidu.com/ucapp/md/article/30446"),this}},{Animator:e,Controller:r}}(),_.Module.define({path:"common/widget/animate_base",sub:{initial:function(){this.Animator=window._TBAnimateWidgetNS.Animator,this.Controller=window._TBAnimateWidgetNS.Controller}}});_.Module.define({requires:"common/widget/animate_base",path:"common/component/animate_keyframes_bouncein",sub:{initial:function(){var t=this.requireInstance("common/widget/animate_base");if(!document.getElementById("animate-widget-keyframes-bouncein")){var a='<style id="animate-widget-keyframes-bouncein">@-webkit-keyframes animate_keyframes_bounceIn {     from, 20%, 40%, 60%, 80%, to {         -webkit-animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);         animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);     }      0% {         opacity: 0;         -webkit-transform: scale3d(.3, .3, .3);         transform: scale3d(.3, .3, .3);     }      20% {         -webkit-transform: scale3d(1.1, 1.1, 1.1);         transform: scale3d(1.1, 1.1, 1.1);     }      40% {         -webkit-transform: scale3d(.9, .9, .9);         transform: scale3d(.9, .9, .9);     }      60% {         opacity: 1;         -webkit-transform: scale3d(1.03, 1.03, 1.03);         transform: scale3d(1.03, 1.03, 1.03);     }      80% {         -webkit-transform: scale3d(.97, .97, .97);         transform: scale3d(.97, .97, .97);     }      to {         opacity: 1;         -webkit-transform: scale3d(1, 1, 1);         transform: scale3d(1, 1, 1);     } }  @keyframes animate_keyframes_bounceIn {     from, 20%, 40%, 60%, 80%, to {         -webkit-animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);         animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);     }      0% {         opacity: 0;         -webkit-transform: scale3d(.3, .3, .3);         transform: scale3d(.3, .3, .3);     }      20% {         -webkit-transform: scale3d(1.1, 1.1, 1.1);         transform: scale3d(1.1, 1.1, 1.1);     }      40% {         -webkit-transform: scale3d(.9, .9, .9);         transform: scale3d(.9, .9, .9);     }      60% {         opacity: 1;         -webkit-transform: scale3d(1.03, 1.03, 1.03);         transform: scale3d(1.03, 1.03, 1.03);     }      80% {         -webkit-transform: scale3d(.97, .97, .97);         transform: scale3d(.97, .97, .97);     }      to {         opacity: 1;         -webkit-transform: scale3d(1, 1, 1);         transform: scale3d(1, 1, 1);     } }  @-webkit-keyframes animate_keyframes_bounceInDown {     from, 60%, 75%, 90%, to {         -webkit-animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);         animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);     }      0% {         opacity: 0;         -webkit-transform: translate3d(0, -3000px, 0);         transform: translate3d(0, -3000px, 0);     }      60% {         opacity: 1;         -webkit-transform: translate3d(0, 25px, 0);         transform: translate3d(0, 25px, 0);     }      75% {         -webkit-transform: translate3d(0, -10px, 0);         transform: translate3d(0, -10px, 0);     }      90% {         -webkit-transform: translate3d(0, 5px, 0);         transform: translate3d(0, 5px, 0);     }      to {         -webkit-transform: none;         transform: none;     } }  @keyframes animate_keyframes_bounceInDown {     from, 60%, 75%, 90%, to {         -webkit-animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);         animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);     }      0% {         opacity: 0;         -webkit-transform: translate3d(0, -3000px, 0);         transform: translate3d(0, -3000px, 0);     }      60% {         opacity: 1;         -webkit-transform: translate3d(0, 25px, 0);         transform: translate3d(0, 25px, 0);     }      75% {         -webkit-transform: translate3d(0, -10px, 0);         transform: translate3d(0, -10px, 0);     }      90% {         -webkit-transform: translate3d(0, 5px, 0);         transform: translate3d(0, 5px, 0);     }      to {         -webkit-transform: none;         transform: none;     } }  @-webkit-keyframes animate_keyframes_bounceInLeft {     from, 60%, 75%, 90%, to {         -webkit-animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);         animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);     }      0% {         opacity: 0;         -webkit-transform: translate3d(-3000px, 0, 0);         transform: translate3d(-3000px, 0, 0);     }      60% {         opacity: 1;         -webkit-transform: translate3d(25px, 0, 0);         transform: translate3d(25px, 0, 0);     }      75% {         -webkit-transform: translate3d(-10px, 0, 0);         transform: translate3d(-10px, 0, 0);     }      90% {         -webkit-transform: translate3d(5px, 0, 0);         transform: translate3d(5px, 0, 0);     }      to {         -webkit-transform: none;         transform: none;     } }  @keyframes animate_keyframes_bounceInLeft {     from, 60%, 75%, 90%, to {         -webkit-animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);         animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);     }      0% {         opacity: 0;         -webkit-transform: translate3d(-3000px, 0, 0);         transform: translate3d(-3000px, 0, 0);     }      60% {         opacity: 1;         -webkit-transform: translate3d(25px, 0, 0);         transform: translate3d(25px, 0, 0);     }      75% {         -webkit-transform: translate3d(-10px, 0, 0);         transform: translate3d(-10px, 0, 0);     }      90% {         -webkit-transform: translate3d(5px, 0, 0);         transform: translate3d(5px, 0, 0);     }      to {         -webkit-transform: none;         transform: none;     } }  @-webkit-keyframes animate_keyframes_bounceInRight {     from, 60%, 75%, 90%, to {         -webkit-animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);         animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);     }      from {         opacity: 0;         -webkit-transform: translate3d(3000px, 0, 0);         transform: translate3d(3000px, 0, 0);     }      60% {         opacity: 1;         -webkit-transform: translate3d(-25px, 0, 0);         transform: translate3d(-25px, 0, 0);     }      75% {         -webkit-transform: translate3d(10px, 0, 0);         transform: translate3d(10px, 0, 0);     }      90% {         -webkit-transform: translate3d(-5px, 0, 0);         transform: translate3d(-5px, 0, 0);     }      to {         -webkit-transform: none;         transform: none;     } }  @keyframes animate_keyframes_bounceInRight {     from, 60%, 75%, 90%, to {         -webkit-animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);         animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);     }      from {         opacity: 0;         -webkit-transform: translate3d(3000px, 0, 0);         transform: translate3d(3000px, 0, 0);     }      60% {         opacity: 1;         -webkit-transform: translate3d(-25px, 0, 0);         transform: translate3d(-25px, 0, 0);     }      75% {         -webkit-transform: translate3d(10px, 0, 0);         transform: translate3d(10px, 0, 0);     }      90% {         -webkit-transform: translate3d(-5px, 0, 0);         transform: translate3d(-5px, 0, 0);     }      to {         -webkit-transform: none;         transform: none;     } }  @-webkit-keyframes animate_keyframes_bounceInUp {     from, 60%, 75%, 90%, to {         -webkit-animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);         animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);     }      from {         opacity: 0;         -webkit-transform: translate3d(0, 3000px, 0);         transform: translate3d(0, 3000px, 0);     }      60% {         opacity: 1;         -webkit-transform: translate3d(0, -20px, 0);         transform: translate3d(0, -20px, 0);     }      75% {         -webkit-transform: translate3d(0, 10px, 0);         transform: translate3d(0, 10px, 0);     }      90% {         -webkit-transform: translate3d(0, -5px, 0);         transform: translate3d(0, -5px, 0);     }      to {         -webkit-transform: translate3d(0, 0, 0);         transform: translate3d(0, 0, 0);     } }  @keyframes animate_keyframes_bounceInUp {     from, 60%, 75%, 90%, to {         -webkit-animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);         animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);     }      from {         opacity: 0;         -webkit-transform: translate3d(0, 3000px, 0);         transform: translate3d(0, 3000px, 0);     }      60% {         opacity: 1;         -webkit-transform: translate3d(0, -20px, 0);         transform: translate3d(0, -20px, 0);     }      75% {         -webkit-transform: translate3d(0, 10px, 0);         transform: translate3d(0, 10px, 0);     }      90% {         -webkit-transform: translate3d(0, -5px, 0);         transform: translate3d(0, -5px, 0);     }      to {         -webkit-transform: translate3d(0, 0, 0);         transform: translate3d(0, 0, 0);     } }</style>';$(a).appendTo("head")}t.Controller.register(["animate_keyframes_bounceIn","animate_keyframes_bounceInDown","animate_keyframes_bounceInLeft","animate_keyframes_bounceInRight","animate_keyframes_bounceInUp"]),this.Animator=t.Animator,this.Controller=t.Controller}}});_.Module.define({requires:"common/widget/animate_base",path:"common/component/animate_keyframes_bounceout",sub:{initial:function(){var t=this.requireInstance("common/widget/animate_base");if(!document.getElementById("animate-widget-keyframes-bounceout")){var a='<style id="animate-widget-keyframes-bounceout">@-webkit-keyframes animate_keyframes_bounceOut {     20% {         -webkit-transform: scale3d(.9, .9, .9);         transform: scale3d(.9, .9, .9);     }      50%, 55% {         opacity: 1;         -webkit-transform: scale3d(1.1, 1.1, 1.1);         transform: scale3d(1.1, 1.1, 1.1);     }      to {         opacity: 0;         -webkit-transform: scale3d(.3, .3, .3);         transform: scale3d(.3, .3, .3);     } }  @keyframes animate_keyframes_bounceOut {     20% {         -webkit-transform: scale3d(.9, .9, .9);         transform: scale3d(.9, .9, .9);     }      50%, 55% {         opacity: 1;         -webkit-transform: scale3d(1.1, 1.1, 1.1);         transform: scale3d(1.1, 1.1, 1.1);     }      to {         opacity: 0;         -webkit-transform: scale3d(.3, .3, .3);         transform: scale3d(.3, .3, .3);     } }  @-webkit-keyframes animate_keyframes_bounceOutDown {     20% {         -webkit-transform: translate3d(0, 10px, 0);         transform: translate3d(0, 10px, 0);     }      40%, 45% {         opacity: 1;         -webkit-transform: translate3d(0, -20px, 0);         transform: translate3d(0, -20px, 0);     }      to {         opacity: 0;         -webkit-transform: translate3d(0, 2000px, 0);         transform: translate3d(0, 2000px, 0);     } }  @keyframes animate_keyframes_bounceOutDown {     20% {         -webkit-transform: translate3d(0, 10px, 0);         transform: translate3d(0, 10px, 0);     }      40%, 45% {         opacity: 1;         -webkit-transform: translate3d(0, -20px, 0);         transform: translate3d(0, -20px, 0);     }      to {         opacity: 0;         -webkit-transform: translate3d(0, 2000px, 0);         transform: translate3d(0, 2000px, 0);     } }  @-webkit-keyframes animate_keyframes_bounceOutLeft {     20% {         opacity: 1;         -webkit-transform: translate3d(20px, 0, 0);         transform: translate3d(20px, 0, 0);     }      to {         opacity: 0;         -webkit-transform: translate3d(-2000px, 0, 0);         transform: translate3d(-2000px, 0, 0);     } }  @keyframes animate_keyframes_bounceOutLeft {     20% {         opacity: 1;         -webkit-transform: translate3d(20px, 0, 0);         transform: translate3d(20px, 0, 0);     }      to {         opacity: 0;         -webkit-transform: translate3d(-2000px, 0, 0);         transform: translate3d(-2000px, 0, 0);     } }  @-webkit-keyframes animate_keyframes_bounceOutRight {     20% {         opacity: 1;         -webkit-transform: translate3d(-20px, 0, 0);         transform: translate3d(-20px, 0, 0);     }      to {         opacity: 0;         -webkit-transform: translate3d(2000px, 0, 0);         transform: translate3d(2000px, 0, 0);     } }  @keyframes animate_keyframes_bounceOutRight {     20% {         opacity: 1;         -webkit-transform: translate3d(-20px, 0, 0);         transform: translate3d(-20px, 0, 0);     }      to {         opacity: 0;         -webkit-transform: translate3d(2000px, 0, 0);         transform: translate3d(2000px, 0, 0);     } }  @-webkit-keyframes animate_keyframes_bounceOutUp {     20% {         -webkit-transform: translate3d(0, -10px, 0);         transform: translate3d(0, -10px, 0);     }      40%, 45% {         opacity: 1;         -webkit-transform: translate3d(0, 20px, 0);         transform: translate3d(0, 20px, 0);     }      to {         opacity: 0;         -webkit-transform: translate3d(0, -2000px, 0);         transform: translate3d(0, -2000px, 0);     } }  @keyframes animate_keyframes_bounceOutUp {     20% {         -webkit-transform: translate3d(0, -10px, 0);         transform: translate3d(0, -10px, 0);     }      40%, 45% {         opacity: 1;         -webkit-transform: translate3d(0, 20px, 0);         transform: translate3d(0, 20px, 0);     }      to {         opacity: 0;         -webkit-transform: translate3d(0, -2000px, 0);         transform: translate3d(0, -2000px, 0);     } }</style>';$(a).appendTo("head")}t.Controller.register(["animate_keyframes_bounceOut","animate_keyframes_bounceOutDown","animate_keyframes_bounceOutLeft","animate_keyframes_bounceOutRight","animate_keyframes_bounceOutUp"]),this.Animator=t.Animator,this.Controller=t.Controller}}});_.Module.define({requires:"common/widget/animate_base",path:"common/component/animate_keyframes_fadein",sub:{initial:function(){var a=this.requireInstance("common/widget/animate_base");if(!document.getElementById("animate-widget-keyframes-fadein")){var e='<style id="animate-widget-keyframes-fadein">@keyframes animate_keyframes_fadeIn {     from {         opacity: 0;     }      to {         opacity: 1;     } }  @-webkit-keyframes animate_keyframes_fadeInDown {     from {         opacity: 0;         -webkit-transform: translate3d(0, -100%, 0);         transform: translate3d(0, -100%, 0);     }      to {         opacity: 1;         -webkit-transform: none;         transform: none;     } }  @keyframes animate_keyframes_fadeInDown {     from {         opacity: 0;         -webkit-transform: translate3d(0, -100%, 0);         transform: translate3d(0, -100%, 0);     }      to {         opacity: 1;         -webkit-transform: none;         transform: none;     } }  @-webkit-keyframes animate_keyframes_fadeInDownBig {     from {         opacity: 0;         -webkit-transform: translate3d(0, -2000px, 0);         transform: translate3d(0, -2000px, 0);     }      to {         opacity: 1;         -webkit-transform: none;         transform: none;     } }  @keyframes animate_keyframes_fadeInDownBig {     from {         opacity: 0;         -webkit-transform: translate3d(0, -2000px, 0);         transform: translate3d(0, -2000px, 0);     }      to {         opacity: 1;         -webkit-transform: none;         transform: none;     } }  @-webkit-keyframes animate_keyframes_fadeInLeft {     from {         opacity: 0;         -webkit-transform: translate3d(-100%, 0, 0);         transform: translate3d(-100%, 0, 0);     }      to {         opacity: 1;         -webkit-transform: none;         transform: none;     } }  @keyframes animate_keyframes_fadeInLeft {     from {         opacity: 0;         -webkit-transform: translate3d(-100%, 0, 0);         transform: translate3d(-100%, 0, 0);     }      to {         opacity: 1;         -webkit-transform: none;         transform: none;     } }  @-webkit-keyframes animate_keyframes_fadeInLeftBig {     from {         opacity: 0;         -webkit-transform: translate3d(-2000px, 0, 0);         transform: translate3d(-2000px, 0, 0);     }      to {         opacity: 1;         -webkit-transform: none;         transform: none;     } }  @keyframes animate_keyframes_fadeInLeftBig {     from {         opacity: 0;         -webkit-transform: translate3d(-2000px, 0, 0);         transform: translate3d(-2000px, 0, 0);     }      to {         opacity: 1;         -webkit-transform: none;         transform: none;     } }  @-webkit-keyframes animate_keyframes_fadeInRight {     from {         opacity: 0;         -webkit-transform: translate3d(100%, 0, 0);         transform: translate3d(100%, 0, 0);     }      to {         opacity: 1;         -webkit-transform: none;         transform: none;     } }  @keyframes animate_keyframes_fadeInRight {     from {         opacity: 0;         -webkit-transform: translate3d(100%, 0, 0);         transform: translate3d(100%, 0, 0);     }      to {         opacity: 1;         -webkit-transform: none;         transform: none;     } }  @-webkit-keyframes animate_keyframes_fadeInRightBig {     from {         opacity: 0;         -webkit-transform: translate3d(2000px, 0, 0);         transform: translate3d(2000px, 0, 0);     }      to {         opacity: 1;         -webkit-transform: none;         transform: none;     } }  @keyframes animate_keyframes_fadeInRightBig {     from {         opacity: 0;         -webkit-transform: translate3d(2000px, 0, 0);         transform: translate3d(2000px, 0, 0);     }      to {         opacity: 1;         -webkit-transform: none;         transform: none;     } }  @-webkit-keyframes animate_keyframes_fadeInUp {     from {         opacity: 0;         -webkit-transform: translate3d(0, 100%, 0);         transform: translate3d(0, 100%, 0);     }      to {         opacity: 1;         -webkit-transform: none;         transform: none;     } }  @keyframes animate_keyframes_fadeInUp {     from {         opacity: 0;         -webkit-transform: translate3d(0, 100%, 0);         transform: translate3d(0, 100%, 0);     }      to {         opacity: 1;         -webkit-transform: none;         transform: none;     } }  @-webkit-keyframes animate_keyframes_fadeInUpBig {     from {         opacity: 0;         -webkit-transform: translate3d(0, 2000px, 0);         transform: translate3d(0, 2000px, 0);     }      to {         opacity: 1;         -webkit-transform: none;         transform: none;     } }  @keyframes animate_keyframes_fadeInUpBig {     from {         opacity: 0;         -webkit-transform: translate3d(0, 2000px, 0);         transform: translate3d(0, 2000px, 0);     }      to {         opacity: 1;         -webkit-transform: none;         transform: none;     } } </style>';$(e).appendTo("head")}a.Controller.register(["animate_keyframes_fadeIn","animate_keyframes_fadeInDown","animate_keyframes_fadeInDownBig","animate_keyframes_fadeInLeft","animate_keyframes_fadeInLeftBig","animate_keyframes_fadeInRight","animate_keyframes_fadeInRightBig","animate_keyframes_fadeInUp","animate_keyframes_fadeInUpBig"]),this.Animator=a.Animator,this.Controller=a.Controller}}});_.Module.define({requires:"common/widget/animate_base",path:"common/component/animate_keyframes_fadeout",sub:{initial:function(){var a=this.requireInstance("common/widget/animate_base");if(!document.getElementById("animate-widget-keyframes-fadeout")){var t='<style id="animate-widget-keyframes-fadeout">@-webkit-keyframes animate_keyframes_fadeOut {     from {         opacity: 1;     }      to {         opacity: 0;     } }  @keyframes animate_keyframes_fadeOut {     from {         opacity: 1;     }      to {         opacity: 0;     } }  @-webkit-keyframes animate_keyframes_fadeOutDown {     from {         opacity: 1;     }      to {         opacity: 0;         -webkit-transform: translate3d(0, 100%, 0);         transform: translate3d(0, 100%, 0);     } }  @keyframes animate_keyframes_fadeOutDown {     from {         opacity: 1;     }      to {         opacity: 0;         -webkit-transform: translate3d(0, 100%, 0);         transform: translate3d(0, 100%, 0);     } }  @-webkit-keyframes animate_keyframes_fadeOutDownBig {     from {         opacity: 1;     }      to {         opacity: 0;         -webkit-transform: translate3d(0, 2000px, 0);         transform: translate3d(0, 2000px, 0);     } }  @keyframes animate_keyframes_fadeOutDownBig {     from {         opacity: 1;     }      to {         opacity: 0;         -webkit-transform: translate3d(0, 2000px, 0);         transform: translate3d(0, 2000px, 0);     } }  @-webkit-keyframes animate_keyframes_fadeOutLeft {     from {         opacity: 1;     }      to {         opacity: 0;         -webkit-transform: translate3d(-100%, 0, 0);         transform: translate3d(-100%, 0, 0);     } }  @keyframes animate_keyframes_fadeOutLeft {     from {         opacity: 1;     }      to {         opacity: 0;         -webkit-transform: translate3d(-100%, 0, 0);         transform: translate3d(-100%, 0, 0);     } }  @-webkit-keyframes animate_keyframes_fadeOutLeftBig {     from {         opacity: 1;     }      to {         opacity: 0;         -webkit-transform: translate3d(-2000px, 0, 0);         transform: translate3d(-2000px, 0, 0);     } }  @keyframes animate_keyframes_fadeOutLeftBig {     from {         opacity: 1;     }      to {         opacity: 0;         -webkit-transform: translate3d(-2000px, 0, 0);         transform: translate3d(-2000px, 0, 0);     } }  @-webkit-keyframes animate_keyframes_fadeOutRight {     from {         opacity: 1;     }      to {         opacity: 0;         -webkit-transform: translate3d(100%, 0, 0);         transform: translate3d(100%, 0, 0);     } }  @keyframes animate_keyframes_fadeOutRight {     from {         opacity: 1;     }      to {         opacity: 0;         -webkit-transform: translate3d(100%, 0, 0);         transform: translate3d(100%, 0, 0);     } }  @-webkit-keyframes animate_keyframes_fadeOutRightBig {     from {         opacity: 1;     }      to {         opacity: 0;         -webkit-transform: translate3d(2000px, 0, 0);         transform: translate3d(2000px, 0, 0);     } }  @keyframes animate_keyframes_fadeOutRightBig {     from {         opacity: 1;     }      to {         opacity: 0;         -webkit-transform: translate3d(2000px, 0, 0);         transform: translate3d(2000px, 0, 0);     } }  @-webkit-keyframes animate_keyframes_fadeOutUp {     from {         opacity: 1;     }      to {         opacity: 0;         -webkit-transform: translate3d(0, -100%, 0);         transform: translate3d(0, -100%, 0);     } }  @keyframes animate_keyframes_fadeOutUp {     from {         opacity: 1;     }      to {         opacity: 0;         -webkit-transform: translate3d(0, -100%, 0);         transform: translate3d(0, -100%, 0);     } }  @-webkit-keyframes animate_keyframes_fadeOutUpBig {     from {         opacity: 1;     }      to {         opacity: 0;         -webkit-transform: translate3d(0, -2000px, 0);         transform: translate3d(0, -2000px, 0);     } }  @keyframes animate_keyframes_fadeOutUpBig {     from {         opacity: 1;     }      to {         opacity: 0;         -webkit-transform: translate3d(0, -2000px, 0);         transform: translate3d(0, -2000px, 0);     } }</style>';$(t).appendTo("head")}a.Controller.register(["animate_keyframes_fadeOut","animate_keyframes_fadeOutDown","animate_keyframes_fadeOutDownBig","animate_keyframes_fadeOutLeft","animate_keyframes_fadeOutLeftBig","animate_keyframes_fadeOutRight","animate_keyframes_fadeOutRightBig","animate_keyframes_fadeOutUp","animate_keyframes_fadeOutUpBig"]),this.Animator=a.Animator,this.Controller=a.Controller}}});_.Module.define({requires:"common/widget/animate_base",path:"common/component/animate_keyframes_flip",sub:{initial:function(){var e=this.requireInstance("common/widget/animate_base");if(!document.getElementById("animate-widget-keyframes-flip")){var t='<style id="animate-widget-keyframes-flip">@keyframes animate_keyframes_flip {     from {         -webkit-transform: perspective(400px) rotate3d(0, 1, 0, -360deg);         transform: perspective(400px) rotate3d(0, 1, 0, -360deg);         -webkit-animation-timing-function: ease-out;         animation-timing-function: ease-out;     }      40% {         -webkit-transform: perspective(400px) translate3d(0, 0, 150px) rotate3d(0, 1, 0, -190deg);         transform: perspective(400px) translate3d(0, 0, 150px) rotate3d(0, 1, 0, -190deg);         -webkit-animation-timing-function: ease-out;         animation-timing-function: ease-out;     }      50% {         -webkit-transform: perspective(400px) translate3d(0, 0, 150px) rotate3d(0, 1, 0, -170deg);         transform: perspective(400px) translate3d(0, 0, 150px) rotate3d(0, 1, 0, -170deg);         -webkit-animation-timing-function: ease-in;         animation-timing-function: ease-in;     }      80% {         -webkit-transform: perspective(400px) scale3d(.95, .95, .95);         transform: perspective(400px) scale3d(.95, .95, .95);         -webkit-animation-timing-function: ease-in;         animation-timing-function: ease-in;     }      to {         -webkit-transform: perspective(400px);         transform: perspective(400px);         -webkit-animation-timing-function: ease-in;         animation-timing-function: ease-in;     } }  @-webkit-keyframes animate_keyframes_flipInX {     from {         -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 90deg);         transform: perspective(400px) rotate3d(1, 0, 0, 90deg);         -webkit-animation-timing-function: ease-in;         animation-timing-function: ease-in;         opacity: 0;     }      40% {         -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -20deg);         transform: perspective(400px) rotate3d(1, 0, 0, -20deg);         -webkit-animation-timing-function: ease-in;         animation-timing-function: ease-in;     }      60% {         -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 10deg);         transform: perspective(400px) rotate3d(1, 0, 0, 10deg);         opacity: 1;     }      80% {         -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -5deg);         transform: perspective(400px) rotate3d(1, 0, 0, -5deg);     }      to {         -webkit-transform: perspective(400px);         transform: perspective(400px);     } }  @keyframes animate_keyframes_flipInX {     from {         -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 90deg);         transform: perspective(400px) rotate3d(1, 0, 0, 90deg);         -webkit-animation-timing-function: ease-in;         animation-timing-function: ease-in;         opacity: 0;     }      40% {         -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -20deg);         transform: perspective(400px) rotate3d(1, 0, 0, -20deg);         -webkit-animation-timing-function: ease-in;         animation-timing-function: ease-in;     }      60% {         -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 10deg);         transform: perspective(400px) rotate3d(1, 0, 0, 10deg);         opacity: 1;     }      80% {         -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -5deg);         transform: perspective(400px) rotate3d(1, 0, 0, -5deg);     }      to {         -webkit-transform: perspective(400px);         transform: perspective(400px);     } }  @-webkit-keyframes animate_keyframes_flipInY {     from {         -webkit-transform: perspective(400px) rotate3d(0, 1, 0, 90deg);         transform: perspective(400px) rotate3d(0, 1, 0, 90deg);         -webkit-animation-timing-function: ease-in;         animation-timing-function: ease-in;         opacity: 0;     }      40% {         -webkit-transform: perspective(400px) rotate3d(0, 1, 0, -20deg);         transform: perspective(400px) rotate3d(0, 1, 0, -20deg);         -webkit-animation-timing-function: ease-in;         animation-timing-function: ease-in;     }      60% {         -webkit-transform: perspective(400px) rotate3d(0, 1, 0, 10deg);         transform: perspective(400px) rotate3d(0, 1, 0, 10deg);         opacity: 1;     }      80% {         -webkit-transform: perspective(400px) rotate3d(0, 1, 0, -5deg);         transform: perspective(400px) rotate3d(0, 1, 0, -5deg);     }      to {         -webkit-transform: perspective(400px);         transform: perspective(400px);     } }  @keyframes animate_keyframes_flipInY {     from {         -webkit-transform: perspective(400px) rotate3d(0, 1, 0, 90deg);         transform: perspective(400px) rotate3d(0, 1, 0, 90deg);         -webkit-animation-timing-function: ease-in;         animation-timing-function: ease-in;         opacity: 0;     }      40% {         -webkit-transform: perspective(400px) rotate3d(0, 1, 0, -20deg);         transform: perspective(400px) rotate3d(0, 1, 0, -20deg);         -webkit-animation-timing-function: ease-in;         animation-timing-function: ease-in;     }      60% {         -webkit-transform: perspective(400px) rotate3d(0, 1, 0, 10deg);         transform: perspective(400px) rotate3d(0, 1, 0, 10deg);         opacity: 1;     }      80% {         -webkit-transform: perspective(400px) rotate3d(0, 1, 0, -5deg);         transform: perspective(400px) rotate3d(0, 1, 0, -5deg);     }      to {         -webkit-transform: perspective(400px);         transform: perspective(400px);     } }  @-webkit-keyframes animate_keyframes_flipOutX {     from {         -webkit-transform: perspective(400px);         transform: perspective(400px);     }      30% {         -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -20deg);         transform: perspective(400px) rotate3d(1, 0, 0, -20deg);         opacity: 1;     }      to {         -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 90deg);         transform: perspective(400px) rotate3d(1, 0, 0, 90deg);         opacity: 0;     } }  @keyframes animate_keyframes_flipOutX {     from {         -webkit-transform: perspective(400px);         transform: perspective(400px);     }      30% {         -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -20deg);         transform: perspective(400px) rotate3d(1, 0, 0, -20deg);         opacity: 1;     }      to {         -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 90deg);         transform: perspective(400px) rotate3d(1, 0, 0, 90deg);         opacity: 0;     } }  @-webkit-keyframes animate_keyframes_flipOutY {     from {         -webkit-transform: perspective(400px);         transform: perspective(400px);     }      30% {         -webkit-transform: perspective(400px) rotate3d(0, 1, 0, -15deg);         transform: perspective(400px) rotate3d(0, 1, 0, -15deg);         opacity: 1;     }      to {         -webkit-transform: perspective(400px) rotate3d(0, 1, 0, 90deg);         transform: perspective(400px) rotate3d(0, 1, 0, 90deg);         opacity: 0;     } }  @keyframes animate_keyframes_flipOutY {     from {         -webkit-transform: perspective(400px);         transform: perspective(400px);     }      30% {         -webkit-transform: perspective(400px) rotate3d(0, 1, 0, -15deg);         transform: perspective(400px) rotate3d(0, 1, 0, -15deg);         opacity: 1;     }      to {         -webkit-transform: perspective(400px) rotate3d(0, 1, 0, 90deg);         transform: perspective(400px) rotate3d(0, 1, 0, 90deg);         opacity: 0;     } }</style>';$(t).appendTo("head")}e.Controller.register(["animate_keyframes_flipInX","animate_keyframes_flipInY","animate_keyframes_flipOutX","animate_keyframes_flipOutY"]),this.Animator=e.Animator,this.Controller=e.Controller}}});_.Module.define({requires:"common/widget/animate_base",path:"common/component/animate_keyframes_focus",sub:{initial:function(){var e=this.requireInstance("common/widget/animate_base");if(!document.getElementById("animate-widget-keyframes-focus")){var t='<style id="animate-widget-keyframes-focus">@-webkit-keyframes animate_keyframes_bounce {     from, 20%, 53%, 80%, to {         -webkit-animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);         animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);         -webkit-transform: translate3d(0,0,0);         transform: translate3d(0,0,0);     }      40%, 43% {         -webkit-animation-timing-function: cubic-bezier(0.755, 0.050, 0.855, 0.060);         animation-timing-function: cubic-bezier(0.755, 0.050, 0.855, 0.060);         -webkit-transform: translate3d(0, -30px, 0);         transform: translate3d(0, -30px, 0);     }      70% {         -webkit-animation-timing-function: cubic-bezier(0.755, 0.050, 0.855, 0.060);         animation-timing-function: cubic-bezier(0.755, 0.050, 0.855, 0.060);         -webkit-transform: translate3d(0, -15px, 0);         transform: translate3d(0, -15px, 0);     }      90% {         -webkit-transform: translate3d(0,-4px,0);         transform: translate3d(0,-4px,0);     } }  @keyframes animate_keyframes_bounce {     from, 20%, 53%, 80%, to {         -webkit-animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);         animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);         -webkit-transform: translate3d(0,0,0);         transform: translate3d(0,0,0);     }      40%, 43% {         -webkit-animation-timing-function: cubic-bezier(0.755, 0.050, 0.855, 0.060);         animation-timing-function: cubic-bezier(0.755, 0.050, 0.855, 0.060);         -webkit-transform: translate3d(0, -30px, 0);         transform: translate3d(0, -30px, 0);     }      70% {         -webkit-animation-timing-function: cubic-bezier(0.755, 0.050, 0.855, 0.060);         animation-timing-function: cubic-bezier(0.755, 0.050, 0.855, 0.060);         -webkit-transform: translate3d(0, -15px, 0);         transform: translate3d(0, -15px, 0);     }      90% {         -webkit-transform: translate3d(0,-4px,0);         transform: translate3d(0,-4px,0);     } }  @-webkit-keyframes animate_keyframes_flash {     from, 50%, to {         opacity: 1;     }      25%, 75% {         opacity: 0;     } }  @keyframes animate_keyframes_flash {     from, 50%, to {         opacity: 1;     }      25%, 75% {         opacity: 0;     } }  /* originally authored by Nick Pettit - https://github.com/nickpettit/glide */  @-webkit-keyframes animate_keyframes_pulse {     from {         -webkit-transform: scale3d(1, 1, 1);         transform: scale3d(1, 1, 1);     }      50% {         -webkit-transform: scale3d(1.05, 1.05, 1.05);         transform: scale3d(1.05, 1.05, 1.05);     }      to {         -webkit-transform: scale3d(1, 1, 1);         transform: scale3d(1, 1, 1);     } }  @keyframes animate_keyframes_pulse {     from {         -webkit-transform: scale3d(1, 1, 1);         transform: scale3d(1, 1, 1);     }      50% {         -webkit-transform: scale3d(1.05, 1.05, 1.05);         transform: scale3d(1.05, 1.05, 1.05);     }      to {         -webkit-transform: scale3d(1, 1, 1);         transform: scale3d(1, 1, 1);     } }  @-webkit-keyframes animate_keyframes_rubberBand {     from {         -webkit-transform: scale3d(1, 1, 1);         transform: scale3d(1, 1, 1);     }      30% {         -webkit-transform: scale3d(1.25, 0.75, 1);         transform: scale3d(1.25, 0.75, 1);     }      40% {         -webkit-transform: scale3d(0.75, 1.25, 1);         transform: scale3d(0.75, 1.25, 1);     }      50% {         -webkit-transform: scale3d(1.15, 0.85, 1);         transform: scale3d(1.15, 0.85, 1);     }      65% {         -webkit-transform: scale3d(.95, 1.05, 1);         transform: scale3d(.95, 1.05, 1);     }      75% {         -webkit-transform: scale3d(1.05, .95, 1);         transform: scale3d(1.05, .95, 1);     }      to {         -webkit-transform: scale3d(1, 1, 1);         transform: scale3d(1, 1, 1);     } }  @keyframes animate_keyframes_rubberBand {     from {         -webkit-transform: scale3d(1, 1, 1);         transform: scale3d(1, 1, 1);     }      30% {         -webkit-transform: scale3d(1.25, 0.75, 1);         transform: scale3d(1.25, 0.75, 1);     }      40% {         -webkit-transform: scale3d(0.75, 1.25, 1);         transform: scale3d(0.75, 1.25, 1);     }      50% {         -webkit-transform: scale3d(1.15, 0.85, 1);         transform: scale3d(1.15, 0.85, 1);     }      65% {         -webkit-transform: scale3d(.95, 1.05, 1);         transform: scale3d(.95, 1.05, 1);     }      75% {         -webkit-transform: scale3d(1.05, .95, 1);         transform: scale3d(1.05, .95, 1);     }      to {         -webkit-transform: scale3d(1, 1, 1);         transform: scale3d(1, 1, 1);     } }  @-webkit-keyframes animate_keyframes_shake {     from, to {         -webkit-transform: translate3d(0, 0, 0);         transform: translate3d(0, 0, 0);     }      10%, 30%, 50%, 70%, 90% {         -webkit-transform: translate3d(-10px, 0, 0);         transform: translate3d(-10px, 0, 0);     }      20%, 40%, 60%, 80% {         -webkit-transform: translate3d(10px, 0, 0);         transform: translate3d(10px, 0, 0);     } }  @keyframes animate_keyframes_shake {     from, to {         -webkit-transform: translate3d(0, 0, 0);         transform: translate3d(0, 0, 0);     }      10%, 30%, 50%, 70%, 90% {         -webkit-transform: translate3d(-10px, 0, 0);         transform: translate3d(-10px, 0, 0);     }      20%, 40%, 60%, 80% {         -webkit-transform: translate3d(10px, 0, 0);         transform: translate3d(10px, 0, 0);     } }  @-webkit-keyframes animate_keyframes_headShake {     0% {         -webkit-transform: translateX(0);         transform: translateX(0);     }      6.5% {         -webkit-transform: translateX(-6px) rotateY(-9deg);         transform: translateX(-6px) rotateY(-9deg);     }      18.5% {         -webkit-transform: translateX(5px) rotateY(7deg);         transform: translateX(5px) rotateY(7deg);     }      31.5% {         -webkit-transform: translateX(-3px) rotateY(-5deg);         transform: translateX(-3px) rotateY(-5deg);     }      43.5% {         -webkit-transform: translateX(2px) rotateY(3deg);         transform: translateX(2px) rotateY(3deg);     }      50% {         -webkit-transform: translateX(0);         transform: translateX(0);     } }  @keyframes animate_keyframes_headShake {     0% {         -webkit-transform: translateX(0);         transform: translateX(0);     }      6.5% {         -webkit-transform: translateX(-6px) rotateY(-9deg);         transform: translateX(-6px) rotateY(-9deg);     }      18.5% {         -webkit-transform: translateX(5px) rotateY(7deg);         transform: translateX(5px) rotateY(7deg);     }      31.5% {         -webkit-transform: translateX(-3px) rotateY(-5deg);         transform: translateX(-3px) rotateY(-5deg);     }      43.5% {         -webkit-transform: translateX(2px) rotateY(3deg);         transform: translateX(2px) rotateY(3deg);     }      50% {         -webkit-transform: translateX(0);         transform: translateX(0);     } }  @-webkit-keyframes animate_keyframes_swing {     20% {         -webkit-transform: rotate3d(0, 0, 1, 15deg);         transform: rotate3d(0, 0, 1, 15deg);     }      40% {         -webkit-transform: rotate3d(0, 0, 1, -10deg);         transform: rotate3d(0, 0, 1, -10deg);     }      60% {         -webkit-transform: rotate3d(0, 0, 1, 5deg);         transform: rotate3d(0, 0, 1, 5deg);     }      80% {         -webkit-transform: rotate3d(0, 0, 1, -5deg);         transform: rotate3d(0, 0, 1, -5deg);     }      to {         -webkit-transform: rotate3d(0, 0, 1, 0deg);         transform: rotate3d(0, 0, 1, 0deg);     } }  @keyframes animate_keyframes_swing {     20% {         -webkit-transform: rotate3d(0, 0, 1, 15deg);         transform: rotate3d(0, 0, 1, 15deg);     }      40% {         -webkit-transform: rotate3d(0, 0, 1, -10deg);         transform: rotate3d(0, 0, 1, -10deg);     }      60% {         -webkit-transform: rotate3d(0, 0, 1, 5deg);         transform: rotate3d(0, 0, 1, 5deg);     }      80% {         -webkit-transform: rotate3d(0, 0, 1, -5deg);         transform: rotate3d(0, 0, 1, -5deg);     }      to {         -webkit-transform: rotate3d(0, 0, 1, 0deg);         transform: rotate3d(0, 0, 1, 0deg);     } }  @-webkit-keyframes animate_keyframes_tada {     from {         -webkit-transform: scale3d(1, 1, 1);         transform: scale3d(1, 1, 1);     }      10%, 20% {         -webkit-transform: scale3d(.9, .9, .9) rotate3d(0, 0, 1, -3deg);         transform: scale3d(.9, .9, .9) rotate3d(0, 0, 1, -3deg);     }      30%, 50%, 70%, 90% {         -webkit-transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg);         transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg);     }      40%, 60%, 80% {         -webkit-transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg);         transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg);     }      to {         -webkit-transform: scale3d(1, 1, 1);         transform: scale3d(1, 1, 1);     } }  @keyframes animate_keyframes_tada {     from {         -webkit-transform: scale3d(1, 1, 1);         transform: scale3d(1, 1, 1);     }      10%, 20% {         -webkit-transform: scale3d(.9, .9, .9) rotate3d(0, 0, 1, -3deg);         transform: scale3d(.9, .9, .9) rotate3d(0, 0, 1, -3deg);     }      30%, 50%, 70%, 90% {         -webkit-transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg);         transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg);     }      40%, 60%, 80% {         -webkit-transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg);         transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg);     }      to {         -webkit-transform: scale3d(1, 1, 1);         transform: scale3d(1, 1, 1);     } }  /* originally authored by Nick Pettit - https://github.com/nickpettit/glide */  @-webkit-keyframes animate_keyframes_wobble {     from {         -webkit-transform: none;         transform: none;     }      15% {         -webkit-transform: translate3d(-25%, 0, 0) rotate3d(0, 0, 1, -5deg);         transform: translate3d(-25%, 0, 0) rotate3d(0, 0, 1, -5deg);     }      30% {         -webkit-transform: translate3d(20%, 0, 0) rotate3d(0, 0, 1, 3deg);         transform: translate3d(20%, 0, 0) rotate3d(0, 0, 1, 3deg);     }      45% {         -webkit-transform: translate3d(-15%, 0, 0) rotate3d(0, 0, 1, -3deg);         transform: translate3d(-15%, 0, 0) rotate3d(0, 0, 1, -3deg);     }      60% {         -webkit-transform: translate3d(10%, 0, 0) rotate3d(0, 0, 1, 2deg);         transform: translate3d(10%, 0, 0) rotate3d(0, 0, 1, 2deg);     }      75% {         -webkit-transform: translate3d(-5%, 0, 0) rotate3d(0, 0, 1, -1deg);         transform: translate3d(-5%, 0, 0) rotate3d(0, 0, 1, -1deg);     }      to {         -webkit-transform: none;         transform: none;     } }  @keyframes animate_keyframes_wobble {     from {         -webkit-transform: none;         transform: none;     }      15% {         -webkit-transform: translate3d(-25%, 0, 0) rotate3d(0, 0, 1, -5deg);         transform: translate3d(-25%, 0, 0) rotate3d(0, 0, 1, -5deg);     }      30% {         -webkit-transform: translate3d(20%, 0, 0) rotate3d(0, 0, 1, 3deg);         transform: translate3d(20%, 0, 0) rotate3d(0, 0, 1, 3deg);     }      45% {         -webkit-transform: translate3d(-15%, 0, 0) rotate3d(0, 0, 1, -3deg);         transform: translate3d(-15%, 0, 0) rotate3d(0, 0, 1, -3deg);     }      60% {         -webkit-transform: translate3d(10%, 0, 0) rotate3d(0, 0, 1, 2deg);         transform: translate3d(10%, 0, 0) rotate3d(0, 0, 1, 2deg);     }      75% {         -webkit-transform: translate3d(-5%, 0, 0) rotate3d(0, 0, 1, -1deg);         transform: translate3d(-5%, 0, 0) rotate3d(0, 0, 1, -1deg);     }      to {         -webkit-transform: none;         transform: none;     } }  @-webkit-keyframes animate_keyframes_jello {     from, 11.1%, to {         -webkit-transform: none;         transform: none;     }      22.2% {         -webkit-transform: skewX(-12.5deg) skewY(-12.5deg);         transform: skewX(-12.5deg) skewY(-12.5deg);     }      33.3% {         -webkit-transform: skewX(6.25deg) skewY(6.25deg);         transform: skewX(6.25deg) skewY(6.25deg);     }      44.4% {         -webkit-transform: skewX(-3.125deg) skewY(-3.125deg);         transform: skewX(-3.125deg) skewY(-3.125deg);     }      55.5% {         -webkit-transform: skewX(1.5625deg) skewY(1.5625deg);         transform: skewX(1.5625deg) skewY(1.5625deg);     }      66.6% {         -webkit-transform: skewX(-0.78125deg) skewY(-0.78125deg);         transform: skewX(-0.78125deg) skewY(-0.78125deg);     }      77.7% {         -webkit-transform: skewX(0.390625deg) skewY(0.390625deg);         transform: skewX(0.390625deg) skewY(0.390625deg);     }      88.8% {         -webkit-transform: skewX(-0.1953125deg) skewY(-0.1953125deg);         transform: skewX(-0.1953125deg) skewY(-0.1953125deg);     } }  @keyframes animate_keyframes_jello {     from, 11.1%, to {         -webkit-transform: none;         transform: none;     }      22.2% {         -webkit-transform: skewX(-12.5deg) skewY(-12.5deg);         transform: skewX(-12.5deg) skewY(-12.5deg);     }      33.3% {         -webkit-transform: skewX(6.25deg) skewY(6.25deg);         transform: skewX(6.25deg) skewY(6.25deg);     }      44.4% {         -webkit-transform: skewX(-3.125deg) skewY(-3.125deg);         transform: skewX(-3.125deg) skewY(-3.125deg);     }      55.5% {         -webkit-transform: skewX(1.5625deg) skewY(1.5625deg);         transform: skewX(1.5625deg) skewY(1.5625deg);     }      66.6% {         -webkit-transform: skewX(-0.78125deg) skewY(-0.78125deg);         transform: skewX(-0.78125deg) skewY(-0.78125deg);     }      77.7% {         -webkit-transform: skewX(0.390625deg) skewY(0.390625deg);         transform: skewX(0.390625deg) skewY(0.390625deg);     }      88.8% {         -webkit-transform: skewX(-0.1953125deg) skewY(-0.1953125deg);         transform: skewX(-0.1953125deg) skewY(-0.1953125deg);     } }</style>';$(t).appendTo("head")}e.Controller.register(["animate_keyframes_bounce","animate_keyframes_flash","animate_keyframes_pulse","animate_keyframes_rubberBand","animate_keyframes_shake","animate_keyframes_headShake","animate_keyframes_swing","animate_keyframes_tada","animate_keyframes_wobble","animate_keyframes_jello"]),this.Animator=e.Animator,this.Controller=e.Controller}}});_.Module.define({requires:"common/widget/animate_base",path:"common/component/animate_keyframes_lightspeed",sub:{initial:function(){var e=this.requireInstance("common/widget/animate_base");if(!document.getElementById("animate-widget-keyframes-lightspeed")){var t='<style id="animate-widget-keyframes-lightspeed">@-webkit-keyframes animate_keyframes_lightSpeedIn {     from {         -webkit-transform: translate3d(100%, 0, 0) skewX(-30deg);         transform: translate3d(100%, 0, 0) skewX(-30deg);         opacity: 0;     }      60% {         -webkit-transform: skewX(20deg);         transform: skewX(20deg);         opacity: 1;     }      80% {         -webkit-transform: skewX(-5deg);         transform: skewX(-5deg);         opacity: 1;     }      to {         -webkit-transform: none;         transform: none;         opacity: 1;     } }  @keyframes animate_keyframes_lightSpeedIn {     from {         -webkit-transform: translate3d(100%, 0, 0) skewX(-30deg);         transform: translate3d(100%, 0, 0) skewX(-30deg);         opacity: 0;     }      60% {         -webkit-transform: skewX(20deg);         transform: skewX(20deg);         opacity: 1;     }      80% {         -webkit-transform: skewX(-5deg);         transform: skewX(-5deg);         opacity: 1;     }      to {         -webkit-transform: none;         transform: none;         opacity: 1;     } }  @-webkit-keyframes animate_keyframes_lightSpeedOut {     from {         opacity: 1;     }      to {         -webkit-transform: translate3d(100%, 0, 0) skewX(30deg);         transform: translate3d(100%, 0, 0) skewX(30deg);         opacity: 0;     } }  @keyframes animate_keyframes_lightSpeedOut {     from {         opacity: 1;     }      to {         -webkit-transform: translate3d(100%, 0, 0) skewX(30deg);         transform: translate3d(100%, 0, 0) skewX(30deg);         opacity: 0;     } }</style>';$(t).appendTo("head")}e.Controller.register(["animate_keyframes_lightSpeedIn","animate_keyframes_lightSpeedOut"]),this.Animator=e.Animator,this.Controller=e.Controller}}});_.Module.define({requires:"common/widget/animate_base",path:"common/component/animate_keyframes_rotatein",sub:{initial:function(){var t=this.requireInstance("common/widget/animate_base");if(!document.getElementById("animate-widget-keyframes-rotatein")){var r='<style id="animate-widget-keyframes-rotatein">@-webkit-keyframes animate_keyframes_rotateIn {     from {         -webkit-transform-origin: center;         transform-origin: center;         -webkit-transform: rotate3d(0, 0, 1, -200deg);         transform: rotate3d(0, 0, 1, -200deg);         opacity: 0;     }      to {         -webkit-transform-origin: center;         transform-origin: center;         -webkit-transform: none;         transform: none;         opacity: 1;     } }  @keyframes animate_keyframes_rotateIn {     from {         -webkit-transform-origin: center;         transform-origin: center;         -webkit-transform: rotate3d(0, 0, 1, -200deg);         transform: rotate3d(0, 0, 1, -200deg);         opacity: 0;     }      to {         -webkit-transform-origin: center;         transform-origin: center;         -webkit-transform: none;         transform: none;         opacity: 1;     } }  @-webkit-keyframes animate_keyframes_rotateInDownLeft {     from {         -webkit-transform-origin: left bottom;         transform-origin: left bottom;         -webkit-transform: rotate3d(0, 0, 1, -45deg);         transform: rotate3d(0, 0, 1, -45deg);         opacity: 0;     }      to {         -webkit-transform-origin: left bottom;         transform-origin: left bottom;         -webkit-transform: none;         transform: none;         opacity: 1;     } }  @keyframes animate_keyframes_rotateInDownLeft {     from {         -webkit-transform-origin: left bottom;         transform-origin: left bottom;         -webkit-transform: rotate3d(0, 0, 1, -45deg);         transform: rotate3d(0, 0, 1, -45deg);         opacity: 0;     }      to {         -webkit-transform-origin: left bottom;         transform-origin: left bottom;         -webkit-transform: none;         transform: none;         opacity: 1;     } }  @-webkit-keyframes animate_keyframes_rotateInDownRight {     from {         -webkit-transform-origin: right bottom;         transform-origin: right bottom;         -webkit-transform: rotate3d(0, 0, 1, 45deg);         transform: rotate3d(0, 0, 1, 45deg);         opacity: 0;     }      to {         -webkit-transform-origin: right bottom;         transform-origin: right bottom;         -webkit-transform: none;         transform: none;         opacity: 1;     } }  @keyframes animate_keyframes_rotateInDownRight {     from {         -webkit-transform-origin: right bottom;         transform-origin: right bottom;         -webkit-transform: rotate3d(0, 0, 1, 45deg);         transform: rotate3d(0, 0, 1, 45deg);         opacity: 0;     }      to {         -webkit-transform-origin: right bottom;         transform-origin: right bottom;         -webkit-transform: none;         transform: none;         opacity: 1;     } }  @-webkit-keyframes animate_keyframes_rotateInUpLeft {     from {         -webkit-transform-origin: left bottom;         transform-origin: left bottom;         -webkit-transform: rotate3d(0, 0, 1, 45deg);         transform: rotate3d(0, 0, 1, 45deg);         opacity: 0;     }      to {         -webkit-transform-origin: left bottom;         transform-origin: left bottom;         -webkit-transform: none;         transform: none;         opacity: 1;     } }  @keyframes animate_keyframes_rotateInUpLeft {     from {         -webkit-transform-origin: left bottom;         transform-origin: left bottom;         -webkit-transform: rotate3d(0, 0, 1, 45deg);         transform: rotate3d(0, 0, 1, 45deg);         opacity: 0;     }      to {         -webkit-transform-origin: left bottom;         transform-origin: left bottom;         -webkit-transform: none;         transform: none;         opacity: 1;     } }  @-webkit-keyframes animate_keyframes_rotateInUpRight {     from {         -webkit-transform-origin: right bottom;         transform-origin: right bottom;         -webkit-transform: rotate3d(0, 0, 1, -90deg);         transform: rotate3d(0, 0, 1, -90deg);         opacity: 0;     }      to {         -webkit-transform-origin: right bottom;         transform-origin: right bottom;         -webkit-transform: none;         transform: none;         opacity: 1;     } }  @keyframes animate_keyframes_rotateInUpRight {     from {         -webkit-transform-origin: right bottom;         transform-origin: right bottom;         -webkit-transform: rotate3d(0, 0, 1, -90deg);         transform: rotate3d(0, 0, 1, -90deg);         opacity: 0;     }      to {         -webkit-transform-origin: right bottom;         transform-origin: right bottom;         -webkit-transform: none;         transform: none;         opacity: 1;     } }</style>';$(r).appendTo("head")}t.Controller.register(["animate_keyframes_rotateIn","animate_keyframes_rotateInDownLeft","animate_keyframes_rotateInDownRight","animate_keyframes_rotateInUpLeft","animate_keyframes_rotateInUpRight"]),this.Animator=t.Animator,this.Controller=t.Controller}}});_.Module.define({requires:"common/widget/animate_base",path:"common/component/animate_keyframes_rotateout",sub:{initial:function(){var t=this.requireInstance("common/widget/animate_base");if(!document.getElementById("animate-widget-keyframes-rotateout")){var r='<style id="animate-widget-keyframes-rotateout">@-webkit-keyframes animate_keyframes_rotateOut {     from {         -webkit-transform-origin: center;         transform-origin: center;         opacity: 1;     }      to {         -webkit-transform-origin: center;         transform-origin: center;         -webkit-transform: rotate3d(0, 0, 1, 200deg);         transform: rotate3d(0, 0, 1, 200deg);         opacity: 0;     } }  @keyframes animate_keyframes_rotateOut {     from {         -webkit-transform-origin: center;         transform-origin: center;         opacity: 1;     }      to {         -webkit-transform-origin: center;         transform-origin: center;         -webkit-transform: rotate3d(0, 0, 1, 200deg);         transform: rotate3d(0, 0, 1, 200deg);         opacity: 0;     } }  @-webkit-keyframes animate_keyframes_rotateOutDownLeft {     from {         -webkit-transform-origin: left bottom;         transform-origin: left bottom;         opacity: 1;     }      to {         -webkit-transform-origin: left bottom;         transform-origin: left bottom;         -webkit-transform: rotate3d(0, 0, 1, 45deg);         transform: rotate3d(0, 0, 1, 45deg);         opacity: 0;     } }  @keyframes animate_keyframes_rotateOutDownLeft {     from {         -webkit-transform-origin: left bottom;         transform-origin: left bottom;         opacity: 1;     }      to {         -webkit-transform-origin: left bottom;         transform-origin: left bottom;         -webkit-transform: rotate3d(0, 0, 1, 45deg);         transform: rotate3d(0, 0, 1, 45deg);         opacity: 0;     } }  @-webkit-keyframes animate_keyframes_rotateOutDownRight {     from {         -webkit-transform-origin: right bottom;         transform-origin: right bottom;         opacity: 1;     }      to {         -webkit-transform-origin: right bottom;         transform-origin: right bottom;         -webkit-transform: rotate3d(0, 0, 1, -45deg);         transform: rotate3d(0, 0, 1, -45deg);         opacity: 0;     } }  @keyframes animate_keyframes_rotateOutDownRight {     from {         -webkit-transform-origin: right bottom;         transform-origin: right bottom;         opacity: 1;     }      to {         -webkit-transform-origin: right bottom;         transform-origin: right bottom;         -webkit-transform: rotate3d(0, 0, 1, -45deg);         transform: rotate3d(0, 0, 1, -45deg);         opacity: 0;     } }  @-webkit-keyframes animate_keyframes_rotateOutUpLeft {     from {         -webkit-transform-origin: left bottom;         transform-origin: left bottom;         opacity: 1;     }      to {         -webkit-transform-origin: left bottom;         transform-origin: left bottom;         -webkit-transform: rotate3d(0, 0, 1, -45deg);         transform: rotate3d(0, 0, 1, -45deg);         opacity: 0;     } }  @keyframes animate_keyframes_rotateOutUpLeft {     from {         -webkit-transform-origin: left bottom;         transform-origin: left bottom;         opacity: 1;     }      to {         -webkit-transform-origin: left bottom;         transform-origin: left bottom;         -webkit-transform: rotate3d(0, 0, 1, -45deg);         transform: rotate3d(0, 0, 1, -45deg);         opacity: 0;     } }  @-webkit-keyframes animate_keyframes_rotateOutUpRight {     from {         -webkit-transform-origin: right bottom;         transform-origin: right bottom;         opacity: 1;     }      to {         -webkit-transform-origin: right bottom;         transform-origin: right bottom;         -webkit-transform: rotate3d(0, 0, 1, 90deg);         transform: rotate3d(0, 0, 1, 90deg);         opacity: 0;     } }  @keyframes animate_keyframes_rotateOutUpRight {     from {         -webkit-transform-origin: right bottom;         transform-origin: right bottom;         opacity: 1;     }      to {         -webkit-transform-origin: right bottom;         transform-origin: right bottom;         -webkit-transform: rotate3d(0, 0, 1, 90deg);         transform: rotate3d(0, 0, 1, 90deg);         opacity: 0;     } }</style>';$(r).appendTo("head")}t.Controller.register(["animate_keyframes_rotateOut","animate_keyframes_rotateOutDownLeft","animate_keyframes_rotateOutDownRight","animate_keyframes_rotateOutUpLeft","animate_keyframes_rotateOutUpRight"]),this.Animator=t.Animator,this.Controller=t.Controller}}});_.Module.define({requires:"common/widget/animate_base",path:"common/component/animate_keyframes_slidein",sub:{initial:function(){var t=this.requireInstance("common/widget/animate_base");if(!document.getElementById("animate-widget-keyframes-slidein")){var e='<style id="animate-widget-keyframes-slidein">@-webkit-keyframes animate_keyframes_slideInDown {     from {         -webkit-transform: translate3d(0, -100%, 0);         transform: translate3d(0, -100%, 0);         visibility: visible;     }      to {         -webkit-transform: translate3d(0, 0, 0);         transform: translate3d(0, 0, 0);     } }  @keyframes animate_keyframes_slideInDown {     from {         -webkit-transform: translate3d(0, -100%, 0);         transform: translate3d(0, -100%, 0);         visibility: visible;     }      to {         -webkit-transform: translate3d(0, 0, 0);         transform: translate3d(0, 0, 0);     } }  @-webkit-keyframes animate_keyframes_slideInLeft {     from {         -webkit-transform: translate3d(-100%, 0, 0);         transform: translate3d(-100%, 0, 0);         visibility: visible;     }      to {         -webkit-transform: translate3d(0, 0, 0);         transform: translate3d(0, 0, 0);     } }  @keyframes animate_keyframes_slideInLeft {     from {         -webkit-transform: translate3d(-100%, 0, 0);         transform: translate3d(-100%, 0, 0);         visibility: visible;     }      to {         -webkit-transform: translate3d(0, 0, 0);         transform: translate3d(0, 0, 0);     } }  @-webkit-keyframes animate_keyframes_slideInRight {     from {         -webkit-transform: translate3d(100%, 0, 0);         transform: translate3d(100%, 0, 0);         visibility: visible;     }      to {         -webkit-transform: translate3d(0, 0, 0);         transform: translate3d(0, 0, 0);     } }  @keyframes animate_keyframes_slideInRight {     from {         -webkit-transform: translate3d(100%, 0, 0);         transform: translate3d(100%, 0, 0);         visibility: visible;     }      to {         -webkit-transform: translate3d(0, 0, 0);         transform: translate3d(0, 0, 0);     } }  @-webkit-keyframes animate_keyframes_slideInUp {     from {         -webkit-transform: translate3d(0, 100%, 0);         transform: translate3d(0, 100%, 0);         visibility: visible;     }      to {         -webkit-transform: translate3d(0, 0, 0);         transform: translate3d(0, 0, 0);     } }  @keyframes animate_keyframes_slideInUp {     from {         -webkit-transform: translate3d(0, 100%, 0);         transform: translate3d(0, 100%, 0);         visibility: visible;     }      to {         -webkit-transform: translate3d(0, 0, 0);         transform: translate3d(0, 0, 0);     } }</style>';$(e).appendTo("head")}t.Controller.register(["animate_keyframes_slideInDown","animate_keyframes_slideInLeft","animate_keyframes_slideInRight","animate_keyframes_slideInUp"]),this.Animator=t.Animator,this.Controller=t.Controller}}});_.Module.define({requires:"common/widget/animate_base",path:"common/component/animate_keyframes_slideout",sub:{initial:function(){var t=this.requireInstance("common/widget/animate_base");if(!document.getElementById("animate-widget-keyframes-slideout")){var e='<style id="animate-widget-keyframes-slideout">@-webkit-keyframes animate_keyframes_slideOutDown {     from {         -webkit-transform: translate3d(0, 0, 0);         transform: translate3d(0, 0, 0);     }      to {         visibility: hidden;         -webkit-transform: translate3d(0, 100%, 0);         transform: translate3d(0, 100%, 0);     } }  @keyframes animate_keyframes_slideOutDown {     from {         -webkit-transform: translate3d(0, 0, 0);         transform: translate3d(0, 0, 0);     }      to {         visibility: hidden;         -webkit-transform: translate3d(0, 100%, 0);         transform: translate3d(0, 100%, 0);     } }  @-webkit-keyframes animate_keyframes_slideOutLeft {     from {         -webkit-transform: translate3d(0, 0, 0);         transform: translate3d(0, 0, 0);     }      to {         visibility: hidden;         -webkit-transform: translate3d(-100%, 0, 0);         transform: translate3d(-100%, 0, 0);     } }  @keyframes animate_keyframes_slideOutLeft {     from {         -webkit-transform: translate3d(0, 0, 0);         transform: translate3d(0, 0, 0);     }      to {         visibility: hidden;         -webkit-transform: translate3d(-100%, 0, 0);         transform: translate3d(-100%, 0, 0);     } }  @-webkit-keyframes animate_keyframes_slideOutRight {     from {         -webkit-transform: translate3d(0, 0, 0);         transform: translate3d(0, 0, 0);     }      to {         visibility: hidden;         -webkit-transform: translate3d(100%, 0, 0);         transform: translate3d(100%, 0, 0);     } }  @keyframes animate_keyframes_slideOutRight {     from {         -webkit-transform: translate3d(0, 0, 0);         transform: translate3d(0, 0, 0);     }      to {         visibility: hidden;         -webkit-transform: translate3d(100%, 0, 0);         transform: translate3d(100%, 0, 0);     } }  @-webkit-keyframes animate_keyframes_slideOutUp {     from {         -webkit-transform: translate3d(0, 0, 0);         transform: translate3d(0, 0, 0);     }      to {         visibility: hidden;         -webkit-transform: translate3d(0, -100%, 0);         transform: translate3d(0, -100%, 0);     } }  @keyframes animate_keyframes_slideOutUp {     from {         -webkit-transform: translate3d(0, 0, 0);         transform: translate3d(0, 0, 0);     }      to {         visibility: hidden;         -webkit-transform: translate3d(0, -100%, 0);         transform: translate3d(0, -100%, 0);     } } </style>';$(e).appendTo("head")}t.Controller.register(["animate_keyframes_slideOutDown","animate_keyframes_slideOutLeft","animate_keyframes_slideOutRight","animate_keyframes_slideOutUp"]),this.Animator=t.Animator,this.Controller=t.Controller}}});_.Module.define({requires:"common/widget/animate_base",path:"common/component/animate_keyframes_special",sub:{initial:function(){var t=this.requireInstance("common/widget/animate_base");if(!document.getElementById("animate-widget-keyframes-special")){var e='<style id="animate-widget-keyframes-special">@-webkit-keyframes animate_keyframes_hinge {     0% {         -webkit-transform-origin: top left;         transform-origin: top left;         -webkit-animation-timing-function: ease-in-out;         animation-timing-function: ease-in-out;     }      20%, 60% {         -webkit-transform: rotate3d(0, 0, 1, 80deg);         transform: rotate3d(0, 0, 1, 80deg);         -webkit-transform-origin: top left;         transform-origin: top left;         -webkit-animation-timing-function: ease-in-out;         animation-timing-function: ease-in-out;     }      40%, 80% {         -webkit-transform: rotate3d(0, 0, 1, 60deg);         transform: rotate3d(0, 0, 1, 60deg);         -webkit-transform-origin: top left;         transform-origin: top left;         -webkit-animation-timing-function: ease-in-out;         animation-timing-function: ease-in-out;         opacity: 1;     }      to {         -webkit-transform: translate3d(0, 700px, 0);         transform: translate3d(0, 700px, 0);         opacity: 0;     } }  @keyframes animate_keyframes_hinge {     0% {         -webkit-transform-origin: top left;         transform-origin: top left;         -webkit-animation-timing-function: ease-in-out;         animation-timing-function: ease-in-out;     }      20%, 60% {         -webkit-transform: rotate3d(0, 0, 1, 80deg);         transform: rotate3d(0, 0, 1, 80deg);         -webkit-transform-origin: top left;         transform-origin: top left;         -webkit-animation-timing-function: ease-in-out;         animation-timing-function: ease-in-out;     }      40%, 80% {         -webkit-transform: rotate3d(0, 0, 1, 60deg);         transform: rotate3d(0, 0, 1, 60deg);         -webkit-transform-origin: top left;         transform-origin: top left;         -webkit-animation-timing-function: ease-in-out;         animation-timing-function: ease-in-out;         opacity: 1;     }      to {         -webkit-transform: translate3d(0, 700px, 0);         transform: translate3d(0, 700px, 0);         opacity: 0;     } }  /* originally authored by Nick Pettit - https://github.com/nickpettit/glide */  @-webkit-keyframes animate_keyframes_rollIn {     from {         opacity: 0;         -webkit-transform: translate3d(-100%, 0, 0) rotate3d(0, 0, 1, -120deg);         transform: translate3d(-100%, 0, 0) rotate3d(0, 0, 1, -120deg);     }      to {         opacity: 1;         -webkit-transform: none;         transform: none;     } }  @keyframes animate_keyframes_rollIn {     from {         opacity: 0;         -webkit-transform: translate3d(-100%, 0, 0) rotate3d(0, 0, 1, -120deg);         transform: translate3d(-100%, 0, 0) rotate3d(0, 0, 1, -120deg);     }      to {         opacity: 1;         -webkit-transform: none;         transform: none;     } }  /* originally authored by Nick Pettit - https://github.com/nickpettit/glide */  @-webkit-keyframes animate_keyframes_rollOut {     from {         opacity: 1;     }      to {         opacity: 0;         -webkit-transform: translate3d(100%, 0, 0) rotate3d(0, 0, 1, 120deg);         transform: translate3d(100%, 0, 0) rotate3d(0, 0, 1, 120deg);     } }  @keyframes animate_keyframes_rollOut {     from {         opacity: 1;     }      to {         opacity: 0;         -webkit-transform: translate3d(100%, 0, 0) rotate3d(0, 0, 1, 120deg);         transform: translate3d(100%, 0, 0) rotate3d(0, 0, 1, 120deg);     } }</style>';$(e).appendTo("head")}t.Controller.register(["animate_keyframes_hinge","animate_keyframes_rollIn","animate_keyframes_rollOut"]),this.Animator=t.Animator,this.Controller=t.Controller}}});_.Module.define({requires:"common/widget/animate_base",path:"common/component/animate_keyframes_zoomin",sub:{initial:function(){var i=this.requireInstance("common/widget/animate_base");if(!document.getElementById("animate-widget-keyframes-zoomin")){var t='<style id="animate-widget-keyframes-zoomin">@-webkit-keyframes animate_keyframes_zoomIn {     from {         opacity: 0;         -webkit-transform: scale3d(.3, .3, .3);         transform: scale3d(.3, .3, .3);     }      50% {         opacity: 1;     } }  @keyframes animate_keyframes_zoomIn {     from {         opacity: 0;         -webkit-transform: scale3d(.3, .3, .3);         transform: scale3d(.3, .3, .3);     }      50% {         opacity: 1;     } }  @-webkit-keyframes animate_keyframes_zoomInDown {     from {         opacity: 0;         -webkit-transform: scale3d(.1, .1, .1) translate3d(0, -1000px, 0);         transform: scale3d(.1, .1, .1) translate3d(0, -1000px, 0);         -webkit-animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);         animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);     }      60% {         opacity: 1;         -webkit-transform: scale3d(.475, .475, .475) translate3d(0, 60px, 0);         transform: scale3d(.475, .475, .475) translate3d(0, 60px, 0);         -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);         animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);     } }  @keyframes animate_keyframes_zoomInDown {     from {         opacity: 0;         -webkit-transform: scale3d(.1, .1, .1) translate3d(0, -1000px, 0);         transform: scale3d(.1, .1, .1) translate3d(0, -1000px, 0);         -webkit-animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);         animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);     }      60% {         opacity: 1;         -webkit-transform: scale3d(.475, .475, .475) translate3d(0, 60px, 0);         transform: scale3d(.475, .475, .475) translate3d(0, 60px, 0);         -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);         animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);     } }  @-webkit-keyframes animate_keyframes_zoomInLeft {     from {         opacity: 0;         -webkit-transform: scale3d(.1, .1, .1) translate3d(-1000px, 0, 0);         transform: scale3d(.1, .1, .1) translate3d(-1000px, 0, 0);         -webkit-animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);         animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);     }      60% {         opacity: 1;         -webkit-transform: scale3d(.475, .475, .475) translate3d(10px, 0, 0);         transform: scale3d(.475, .475, .475) translate3d(10px, 0, 0);         -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);         animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);     } }  @keyframes animate_keyframes_zoomInLeft {     from {         opacity: 0;         -webkit-transform: scale3d(.1, .1, .1) translate3d(-1000px, 0, 0);         transform: scale3d(.1, .1, .1) translate3d(-1000px, 0, 0);         -webkit-animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);         animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);     }      60% {         opacity: 1;         -webkit-transform: scale3d(.475, .475, .475) translate3d(10px, 0, 0);         transform: scale3d(.475, .475, .475) translate3d(10px, 0, 0);         -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);         animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);     } }  @-webkit-keyframes animate_keyframes_zoomInRight {     from {         opacity: 0;         -webkit-transform: scale3d(.1, .1, .1) translate3d(1000px, 0, 0);         transform: scale3d(.1, .1, .1) translate3d(1000px, 0, 0);         -webkit-animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);         animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);     }      60% {         opacity: 1;         -webkit-transform: scale3d(.475, .475, .475) translate3d(-10px, 0, 0);         transform: scale3d(.475, .475, .475) translate3d(-10px, 0, 0);         -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);         animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);     } }  @keyframes animate_keyframes_zoomInRight {     from {         opacity: 0;         -webkit-transform: scale3d(.1, .1, .1) translate3d(1000px, 0, 0);         transform: scale3d(.1, .1, .1) translate3d(1000px, 0, 0);         -webkit-animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);         animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);     }      60% {         opacity: 1;         -webkit-transform: scale3d(.475, .475, .475) translate3d(-10px, 0, 0);         transform: scale3d(.475, .475, .475) translate3d(-10px, 0, 0);         -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);         animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);     } }  @-webkit-keyframes animate_keyframes_zoomInUp {     from {         opacity: 0;         -webkit-transform: scale3d(.1, .1, .1) translate3d(0, 1000px, 0);         transform: scale3d(.1, .1, .1) translate3d(0, 1000px, 0);         -webkit-animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);         animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);     }      60% {         opacity: 1;         -webkit-transform: scale3d(.475, .475, .475) translate3d(0, -60px, 0);         transform: scale3d(.475, .475, .475) translate3d(0, -60px, 0);         -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);         animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);     } }  @keyframes animate_keyframes_zoomInUp {     from {         opacity: 0;         -webkit-transform: scale3d(.1, .1, .1) translate3d(0, 1000px, 0);         transform: scale3d(.1, .1, .1) translate3d(0, 1000px, 0);         -webkit-animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);         animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);     }      60% {         opacity: 1;         -webkit-transform: scale3d(.475, .475, .475) translate3d(0, -60px, 0);         transform: scale3d(.475, .475, .475) translate3d(0, -60px, 0);         -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);         animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);     } }  @-webkit-keyframes animate_keyframes_zoomOut {     from {         opacity: 1;     }      50% {         opacity: 0;         -webkit-transform: scale3d(.3, .3, .3);         transform: scale3d(.3, .3, .3);     }      to {         opacity: 0;     } }</style>';$(t).appendTo("head")}i.Controller.register(["animate_keyframes_zoomIn","animate_keyframes_zoomInDown","animate_keyframes_zoomInLeft","animate_keyframes_zoomInRight","animate_keyframes_zoomInUp"]),this.Animator=i.Animator,this.Controller=i.Controller}}});_.Module.define({requires:"common/widget/animate_base",path:"common/component/animate_keyframes_zoomout",sub:{initial:function(){var t=this.requireInstance("common/widget/animate_base");if(!document.getElementById("animate-widget-keyframes-zoomout")){var a='<style id="animate-widget-keyframes-zoomout">@-webkit-keyframes animate_keyframes_zoomOut {     from {         opacity: 1;     }      50% {         opacity: 0;         -webkit-transform: scale3d(.3, .3, .3);         transform: scale3d(.3, .3, .3);     }      to {         opacity: 0;     } }  @keyframes animate_keyframes_zoomOut {     from {         opacity: 1;     }      50% {         opacity: 0;         -webkit-transform: scale3d(.3, .3, .3);         transform: scale3d(.3, .3, .3);     }      to {         opacity: 0;     } }  @-webkit-keyframes animate_keyframes_zoomOutDown {     40% {         opacity: 1;         -webkit-transform: scale3d(.475, .475, .475) translate3d(0, -60px, 0);         transform: scale3d(.475, .475, .475) translate3d(0, -60px, 0);         -webkit-animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);         animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);     }      to {         opacity: 0;         -webkit-transform: scale3d(.1, .1, .1) translate3d(0, 2000px, 0);         transform: scale3d(.1, .1, .1) translate3d(0, 2000px, 0);         -webkit-transform-origin: center bottom;         transform-origin: center bottom;         -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);         animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);     } }  @keyframes animate_keyframes_zoomOutDown {     40% {         opacity: 1;         -webkit-transform: scale3d(.475, .475, .475) translate3d(0, -60px, 0);         transform: scale3d(.475, .475, .475) translate3d(0, -60px, 0);         -webkit-animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);         animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);     }      to {         opacity: 0;         -webkit-transform: scale3d(.1, .1, .1) translate3d(0, 2000px, 0);         transform: scale3d(.1, .1, .1) translate3d(0, 2000px, 0);         -webkit-transform-origin: center bottom;         transform-origin: center bottom;         -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);         animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);     } }  @-webkit-keyframes animate_keyframes_zoomOutLeft {     40% {         opacity: 1;         -webkit-transform: scale3d(.475, .475, .475) translate3d(42px, 0, 0);         transform: scale3d(.475, .475, .475) translate3d(42px, 0, 0);     }      to {         opacity: 0;         -webkit-transform: scale(.1) translate3d(-2000px, 0, 0);         transform: scale(.1) translate3d(-2000px, 0, 0);         -webkit-transform-origin: left center;         transform-origin: left center;     } }  @keyframes animate_keyframes_zoomOutLeft {     40% {         opacity: 1;         -webkit-transform: scale3d(.475, .475, .475) translate3d(42px, 0, 0);         transform: scale3d(.475, .475, .475) translate3d(42px, 0, 0);     }      to {         opacity: 0;         -webkit-transform: scale(.1) translate3d(-2000px, 0, 0);         transform: scale(.1) translate3d(-2000px, 0, 0);         -webkit-transform-origin: left center;         transform-origin: left center;     } }  @-webkit-keyframes animate_keyframes_zoomOutRight {     40% {         opacity: 1;         -webkit-transform: scale3d(.475, .475, .475) translate3d(-42px, 0, 0);         transform: scale3d(.475, .475, .475) translate3d(-42px, 0, 0);     }      to {         opacity: 0;         -webkit-transform: scale(.1) translate3d(2000px, 0, 0);         transform: scale(.1) translate3d(2000px, 0, 0);         -webkit-transform-origin: right center;         transform-origin: right center;     } }  @keyframes animate_keyframes_zoomOutRight {     40% {         opacity: 1;         -webkit-transform: scale3d(.475, .475, .475) translate3d(-42px, 0, 0);         transform: scale3d(.475, .475, .475) translate3d(-42px, 0, 0);     }      to {         opacity: 0;         -webkit-transform: scale(.1) translate3d(2000px, 0, 0);         transform: scale(.1) translate3d(2000px, 0, 0);         -webkit-transform-origin: right center;         transform-origin: right center;     } }  @-webkit-keyframes animate_keyframes_zoomOutUp {     40% {         opacity: 1;         -webkit-transform: scale3d(.475, .475, .475) translate3d(0, 60px, 0);         transform: scale3d(.475, .475, .475) translate3d(0, 60px, 0);         -webkit-animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);         animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);     }      to {         opacity: 0;         -webkit-transform: scale3d(.1, .1, .1) translate3d(0, -2000px, 0);         transform: scale3d(.1, .1, .1) translate3d(0, -2000px, 0);         -webkit-transform-origin: center bottom;         transform-origin: center bottom;         -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);         animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);     } }  @keyframes animate_keyframes_zoomOutUp {     40% {         opacity: 1;         -webkit-transform: scale3d(.475, .475, .475) translate3d(0, 60px, 0);         transform: scale3d(.475, .475, .475) translate3d(0, 60px, 0);         -webkit-animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);         animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);     }      to {         opacity: 0;         -webkit-transform: scale3d(.1, .1, .1) translate3d(0, -2000px, 0);         transform: scale3d(.1, .1, .1) translate3d(0, -2000px, 0);         -webkit-transform-origin: center bottom;         transform-origin: center bottom;         -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);         animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);     } }</style>';$(a).appendTo("head")}t.Controller.register(["animate_keyframes_zoomOut","animate_keyframes_zoomOutDown","animate_keyframes_zoomOutLeft","animate_keyframes_zoomOutRight","animate_keyframes_zoomOutUp"]),this.Animator=t.Animator,this.Controller=t.Controller}}});_.Module.define({path:"common/widget/animate",requires:["common/widget/animate_base","common/component/animate_keyframes_bouncein","common/component/animate_keyframes_bounceout","common/component/animate_keyframes_fadein","common/component/animate_keyframes_fadeout","common/component/animate_keyframes_flip","common/component/animate_keyframes_focus","common/component/animate_keyframes_lightspeed","common/component/animate_keyframes_rotatein","common/component/animate_keyframes_rotateout","common/component/animate_keyframes_slidein","common/component/animate_keyframes_slideout","common/component/animate_keyframes_special","common/component/animate_keyframes_zoomin","common/component/animate_keyframes_zoomout"],sub:{initial:function(){var e=this.requireInstance("common/widget/animate_base");this.requireInstance("common/component/animate_keyframes_bouncein"),this.requireInstance("common/component/animate_keyframes_bounceout"),this.requireInstance("common/component/animate_keyframes_fadein"),this.requireInstance("common/component/animate_keyframes_fadeout"),this.requireInstance("common/component/animate_keyframes_flip"),this.requireInstance("common/component/animate_keyframes_focus"),this.requireInstance("common/component/animate_keyframes_lightspeed"),this.requireInstance("common/component/animate_keyframes_rotatein"),this.requireInstance("common/component/animate_keyframes_rotateout"),this.requireInstance("common/component/animate_keyframes_slidein"),this.requireInstance("common/component/animate_keyframes_slideout"),this.requireInstance("common/component/animate_keyframes_special"),this.requireInstance("common/component/animate_keyframes_zoomin"),this.requireInstance("common/component/animate_keyframes_zoomout"),this.Animator=e.Animator,this.Controller=e.Controller}}});_.Module.define({path:"encourage/widget/novel_award_dialog",requires:["tbmall/widget/TbeanSafeAjax","common/widget/LoginDialog","encourage/widget/novel_icons","common/widget/TchargeDialog","common/widget/Tdou/TdouViewPay","common/widget/messenger","common/widget/MemberApi","user/widget/Icons"],sub:{initial:function(e){this.opt=$.extend({isLogin:PageData.user.is_login,tbs:PageData.tbs,threadId:0,forumId:0,novelName:""},e),this.opt.tbs=this.opt.tbs||PageData.tbs,this.novelIcons=this.requireInstance("encourage/widget/novel_icons",[]),this.userIcons=this.requireInstance("user/widget/Icons"),this.memberAPI=this.requireInstance("common/widget/MemberApi"),this.safeAjax=this.requireInstance("tbmall/widget/TbeanSafeAjax",[]),this.animate=this.requireInstance("common/widget/animate"),this.paying=!1,this.parentExist=!1,0===+this.opt.threadId&&(this.messager=this.requireInstance("common/widget/messenger",["novelAward","iframeTdouPay"]),this.initMessager()),this.opt.colorMode=+PageData.user.id%2>0?"blue":"orange"},show:function(e){this.opt=$.extend(this.opt,e||{}),this.opt.tbs=this.opt.tbs||PageData.tbs;var a=this;if(this.checkLogin()){var o=PageData.user.user_name||PageData.user.name;if(!o)return new $.dialog({html:"\u8BF7\u8865\u5145\u7528\u6237\u540D\u540E\u518D\u6765\u6367\u573A\u54E6~"}),!1;this.voteFreeTicketAndGetUserInfo(function(e){if(void 0===e.month_ticket_up||0===e.month_ticket_up){var o='<div class="forbid-vote-assert-dialog-content">';return o+="\u5173\u6CE8\u672C\u4F5C\u54C1\u5427\u4E14\u7EA7\u522B\u5927\u4E8E\u7B49\u4E8E5\u7EA7\uFF0C\u5373\u53EF\u514D\u8D39\u6295\u7968\u3002</div>",$.dialog.assert(o,{showTitle:!1,width:300,holderClassName:"forbid-vote-assert-dialog"}),void 0}a.initDialog(),a.paying=!1,a.$tdouValueDom=a.dialog.element.find(".j-novel-award-dialog-tdou"),a.$baExperience=a.dialog.element.find(".j-novel-award-experience"),a.$fansScore=a.dialog.element.find(".j-novel-award-fans-score"),a.$voteItemDom=a.dialog.element.find(".novel-award-dialog-vote-item"),a.$successSectionDom=a.dialog.element.find(".novel-award-dialog-success"),a.$warningDom=a.dialog.element.find(".novel-award-dialog-vote-warning"),a.$payBtnDom=a.dialog.element.find(".j-novel-award-pay"),a.$payBtnDisabledDom=a.dialog.element.find(".j-novel-award-pay-disabled"),a.$payBtnDoingDom=a.dialog.element.find(".j-novel-award-pay-doing"),a.processNewPageInfo(e),a.bindEvents()})}},voteFreeTicketAndGetUserInfo:function(e){var a=this;$.post("/novel/rewardNovelFree",{forum_id:a.opt.forumId,tbs:a.opt.tbs},function(a){(0===a.no||2270016===a.no)&&e(a.data)})},initDialog:function(){var e="orange"===this.opt.colorMode;this.dialog=new $.dialog({width:670,height:400,showTitle:!1,html:_.template('<div class="novel-award-dialog <% if(orangeMode) { %>testOrange<% } %>">     <div class="novel-award-dialog-close"><span class="novel-dialog-close-icon"></span></div>     <div class="novel-award-dialog-title clearfix">         <span class="novel-award-dialog-title-text">\u7ED9\u201C<span class="j-novel-award-dialog-novel-name"></span>\u201D\u5C0F\u8BF4\u5427\u6295\u6708\u7968</span>         <div class="novel-award-dialog-userinfo">             \u5E10\u53F7\uFF1A<span class="novel-award-dialog-userinfo-name-html j-user-name-html"></span>             &nbsp;&nbsp;             T\u8C46\u4F59\u989D\uFF1A<span class="novel-award-dialog-marked-num"><i class="icon_tbean"></i><span class="j-user-remind-tdou"></span>         </div>     </div>     <div class="novel-award-dialog-main">         <div class="novel-award-dialog-success fold">             <div class="novel-award-dialog-success-title">                 \u6295\u7968\u6210\u529F\uFF01<span class="j-success-extra-info"></span>                 <div class="novel-award-dialog-success-title-sub">                     \u672C\u5427\u7D2F\u8BA1\u5DF2\u6536\u5230                     <span class="novel-award-dialog-marked-num j-book-total-ticket"></span>                     \u7968                 </div>             </div>             <div class="novel-award-dialog-success-info clearfix">                 <div class="novel-award-dialog-success-info-item">                     \u672C\u5427\u7968\u6570                     <span class="novel-award-dialog-marked-num j-ticket-increase"></span>                 </div>                 <div class="novel-award-dialog-success-info-item">                     \u672C\u5427\u7ECF\u9A8C                     <span class="novel-award-dialog-marked-num j-experence-increase"></span>                 </div>                 <div class="novel-award-dialog-success-info-item">                     \u7C89\u4E1D\u79EF\u5206                     <span class="novel-award-dialog-marked-num j-fans-score-increase"></span>                 </div>             </div>             <div class="novel-award-dialog-success-goon">                 <button class="btn-default btn-small j-novel-award-dialog-goon">\u7EE7\u7EED\u7ED9\u672C\u5427\u6295\u7968</button>                 <button class="btn-encourage btn-small j-novel-award-dialog-goon">\u7EE7\u7EED\u7ED9\u672C\u5427\u6295\u7968</button>              </div>             <div class="novel-award-dialog-success-book-info">                 \u672C\u5427\u6392\u5728\u7B2C<span class="j-book-current-rank"></span>\u540D                  <span class="j-novel-award-dialog-need-to-next">\uFF0C\u8FD8\u5DEE                     <span class="novel-award-dialog-marked-num j-book-next-rank-need"></span>                     \u7968\u5C31\u80FD\u8D85\u8FC7\u524D\u4E00\u540D\uFF01                 </span>             </div>         </div>         <div class="novel-award-dialog-vote">             <div class="novel-award-dialog-vote-row clearfix">                 <div class="novel-award-dialog-vote-row-title" style="padding-top: 13px;">                     \u8D2D\u4E70\u5546\u54C1\uFF1A                 </div>                 <div class="novel-award-dialog-vote-row-detail clearfix">                     <div class="novel-award-dialog-vote-goods">                         \u6708\u7968                         <div class="novel-award-dialog-vote-goods-info">                             <span class="novel-award-dialog-marked-num">5000</span>                             T\u8C46/\u5F20                         </div>                         <div class="novel-dialog-selected"></div>                     </div>                     <div class="novel-award-dialog-vote-extra">                         \u672C\u5427\u7ECF\u9A8C                         <span class="novel-award-dialog-marked-num j-novel-award-experience">+20</span>                         &nbsp;&nbsp;                         \u7C89\u4E1D\u79EF\u5206                         <span class="novel-award-dialog-marked-num j-novel-award-fans-score">+5000</span>                     </div>                 </div>             </div>             <div class="novel-award-dialog-vote-row clearfix">                 <div class="novel-award-dialog-vote-row-title" style="padding-top: 5px;">                     \u9009\u62E9\u6570\u91CF\uFF1A                 </div>                 <div class="novel-award-dialog-vote-row-detail clearfix">                     <div class="novel-award-dialog-vote-item" data-ticket="1">                         1\u5F20                         <div class="novel-dialog-selected"></div>                     </div>                     <div class="novel-award-dialog-vote-item" data-ticket="11">                         11\u5F20                         <div class="novel-dialog-selected"></div>                     </div>                     <div class="novel-award-dialog-vote-item" data-ticket="55">                         55\u5F20                         <div class="novel-dialog-selected"></div>                     </div>                     <div class="novel-award-dialog-vote-item" data-ticket="110">                         110\u5F20                         <div class="novel-dialog-selected"></div>                     </div>                     <div class="novel-award-dialog-vote-item" data-ticket="330">                         330\u5F20                         <div class="novel-dialog-selected"></div>                     </div>                     <div class="novel-award-dialog-vote-custom clearfix">                         <input class="novel-award-dialog-vote-custom-input" placeholder="\u5176\u4ED6" type="number" />                         <div class="novel-award-dialog-vote-custom-pend">\u5F20</div>                     </div>                 </div>             </div>             <div class="novel-award-dialog-vote-row clearfix" style="height: 30px">                 <div class="novel-award-dialog-vote-row-title" style="padding-top: 4px;">                     \u6240\u9700T\u8C46\uFF1A                 </div>                 <div class="novel-award-dialog-vote-row-detail">                     <span class="novel-award-dialog-vote-need"><i class="icon_tbean"></i><span class="j-novel-award-dialog-tdou"></span></span>                     <span class="novel-award-dialog-vote-warning">                         \u60A8\u7684T\u8C46\u4F59\u989D\u4E0D\u8DB3\uFF0C\u8BF7\u5148\u83B7\u53D6T\u8C46                     </span>                 </div>             </div>             <div class="novel-award-dialog-vote-exchange">                 <button class="btn-default btn-middle j-novel-award-pay" >\u7ACB\u5373\u5151\u6362</button>                 <button class="btn-encourage btn-middle j-novel-award-pay" >\u7ACB\u5373\u5151\u6362</button>                 <button class="btn-sub-disabled btn-middle j-novel-award-pay-disabled">\u7ACB\u5373\u5151\u6362</button>                 <button class="btn-sub-disabled btn-middle j-novel-award-pay-doing" style="display: none">\u5151\u6362\u4E2D</button>                 <a class="j-novel-award-pay-disabled novel-award-dialog-more-tdou" href="javascript:;">\u83B7\u53D6T\u8C46</a>             </div>         </div>     </div> </div> ')({orangeMode:e})})},close:function(){null!==this.dialog&&(this.dialog.close(),this.dialog=null)},initMessager:function(){var e=this;this.messager.addTarget(window.parent,"frsPage"),this.messager.registerOrigin(["http://tieba.baidu.com","https://tieba.baidu.com","http://fes5.tieba.baidu.com","https://fes5.tieba.baidu.com"]),this.messager.registerCommand({parent_exist:function(){e.parentExist=!0},tdou_pay_confirm:function(a){return e.getRewardResult(a.order)}});var a={command:"exist",data:{height:this.opt.height}};this.messager.targets.frsPage.send(JSON.stringify(a))},bindEvents:function(){var e=this;this.dialog.element.on("click",".novel-award-dialog-close",function(){e.close()}).on("click",".novel-award-dialog-vote-item",function(){var a=$(this);if(!a.hasClass("active")){e.$voteItemDom.removeClass("active"),a.addClass("active");var o=a.data("ticket")||0;e.updateTdouWorth(parseInt(o,10))}}).on("focus",".novel-award-dialog-vote-custom-input",function(){e.$voteItemDom.removeClass("active"),$(this).trigger("keyup")}).on("keyup change",".novel-award-dialog-vote-custom-input",function(){var a=$(this),o=parseInt(a.val()||0,10);0>o?(o=-o,a.val(o)):o>1e6&&(o=1e6,a.val(o)),e.updateTdouWorth(o)}).on("click",".j-novel-award-dialog-goon",function(){e.$successSectionDom.addClass("fold")}).on("click",".j-novel-award-pay",function(){e.voteTicketAndGetOrder(e.needTdou)}).on("click",".novel-award-dialog-more-tdou",function(){e.requireInstance("common/widget/TchargeDialog",{})}),this.$voteItemDom.eq(1).trigger("click")},voteTicketAndGetOrder:function(e){var a=this;this.paying||(this.$payBtnDom.css("display","none"),this.$payBtnDoingDom.css("display",""),this.paying=!0,this.safeAjax.post("/novel/rewardNovel",{forum_id:a.opt.forumId,thread_id:a.opt.threadId||0,reward_tdou:e,is_ios:a.opt.isIOS?1:0,tbs:a.opt.tbs},function(e){0===+e.no?a.payOrder(e.data):(a.$payBtnDom.css("display",""),a.$payBtnDoingDom.css("display","none"),a.paying=!1)}))},payOrder:function(e){var a=this,o=a.requireInstance("common/widget/Tdou/TdouViewPay",[function(e){0==e.data.no?a.getPayResult(e.data.data.order_info.order_id):(a.$payBtnDom.css("display",""),a.$payBtnDoingDom.css("display","none"),a.paying=!1)}]);e.notShowSucTips=!0,o.createMain(e)},getPayResult:function(e){var a=this;$.post("/novel/getRewardResult",{order_id:e,tbs:a.opt.tbs},function(e){0===e.no&&(a.processNewPageInfo(e.data),a.statTestData()),a.$payBtnDom.css("display",""),a.$payBtnDoingDom.css("display","none"),a.paying=!1})},processNewPageInfo:function(e){this.userInfo=e.user_info,this.userInfo.Parr_scores=this.userInfo.Parr_scores||{scores_total:0},this.userInfo.Parr_scores.scores_total=this.userInfo.Parr_scores.scores_total||0,this.$novelNameDom=this.dialog.element.find(".j-novel-award-dialog-novel-name"),this.$novelNameDom.text(this.opt.novelName),this.updateUserInfoDisplay(),this.showSuccessMask(e)},updateUserInfoDisplay:function(){var e=this.userInfo.user_nickname||this.userInfo.user_name;this.dialog.element.find(".j-user-name-html").html(this.userIcons.getPreIconHtml(this.userInfo.mParr_props)+'<a class="'+this.memberAPI.getMemberNameClass(this.userInfo.mParr_props)+'" target="_blank" href="/home/main?un='+encodeURIComponent(e)+'&ie=utf-8">'+e+"</a>"),this.dialog.element.find(".j-user-remind-tdou").text(this.userInfo.Parr_scores.scores_total)},showSuccessMask:function(e){var a=this;this.$succExtraInfoDom=this.dialog.element.find(".j-success-extra-info"),this.dialog.element.find(".j-ticket-increase").text("+"+(e.month_ticket_up||0)),this.dialog.element.find(".j-experence-increase").text("+"+(e.forum_experience_up||0)),this.dialog.element.find(".j-fans-score-increase").text("+"+(e.fans_score_up||0)),this.dialog.element.find(".j-book-total-ticket").text(e.month_ticket||0),this.dialog.element.find(".j-book-current-rank").text(e.current_ranking+1),this.dialog.element.find(".j-book-next-rank-need").text(e.need_ticket),0===e.current_ranking?this.dialog.element.find(".j-novel-award-dialog-need-to-next").hide():this.dialog.element.find(".j-novel-award-dialog-need-to-next").show(),1===e.fans_level_up?this.$succExtraInfoDom.html("\u606D\u559C\u60A8\u83B7\u5F97\u4E86"+this.novelIcons.getNovelLevelIcon(e.fans_level)):this.$succExtraInfoDom.text(""),this.$successSectionDom.removeClass("fold"),new this.animate.Animator("bounceInDown").onend(function(){new a.animate.Animator("tada").play(a.$successSectionDom.find(".novel-award-dialog-success-info"))}).play(this.$successSectionDom)},statTestData:function(){$.stats.track(this.opt.colorMode,"\u5C0F\u8BF4\u652F\u4ED8\u8272\u5F69")},updateTdouWorth:function(e){var a=this.calculateTdouNumber(e);this.userInfo.Parr_scores.scores_total<a?(this.$warningDom.show(),this.$payBtnDom.css("display","none"),this.$payBtnDisabledDom.css("display","")):(this.$warningDom.hide(),this.$payBtnDom.css("display",""),this.$payBtnDisabledDom.css("display","none")),this.needTdou=a,this.$tdouValueDom.text(a),this.$baExperience.text("+"+parseInt(a/250,10)),this.$fansScore.text("+"+a)},calculateTdouNumber:function(e){var a=Math.floor((e+1)/1.1);return e/1.1>a&&(a+=1),5e3*a},checkLogin:function(){if(!this.opt.isLogin){if(this.parentExist){var e={command:"need_login",data:{}};this.messager.targets.frsPage.send(JSON.stringify(e))}else this.requireInstance("common/widget/LoginDialog",[]);return!1}return!0}}});_.Module.define({path:"common/widget/Tdou/TdouViewPay",requires:["common/widget/Tdou/TdouBuilder","common/widget/Tdou/TdouData","common/widget/Tdou/TdouViewUtil","common/widget/Tdou/TdouViewAutoRedirect","common/widget/Tdou/TdouViewOperationBootstrap","common/widget/payMember"],sub:{errors:{110000:"\u7528\u6237\u672A\u767B\u9646",2320007:"\u7CFB\u7EDF\u9519\u8BEF\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5",210009:"\u7CFB\u7EDF\u9519\u8BEF\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5",2270044:"\u8D26\u53F7\u5F02\u5E38\uFF0C\u8BF7\u91CD\u65B0\u767B\u9646",2270047:"\u652F\u4ED8\u5931\u8D25\u2014\u8BA2\u5355\u5931\u6548",2270050:"\u8BA2\u5355\u72B6\u6001\u5F02\u5E38",2270049:"\u5546\u54C1\u8FC7\u671F\uFF0C\u8BF7\u91CD\u65B0\u8D2D\u4E70",2270015:"\u5546\u54C1\u4E0D\u53EF\u5151\u6362",2270051:"\u7CFB\u7EDF\u7EF4\u62A4\u4E2D..."},order_status:{0:"\u652F\u4ED8\u672A\u5B8C\u6210\uFF01",1:"\u652F\u4ED8\u6210\u529F\uFF0C\u5546\u54C1\u5151\u6362\u4E2D\uFF01",2:"\u5151\u6362\u6210\u529F",3:"\u5151\u6362\u5931\u8D25\uFF0CT\u8C46\u5DF2\u9000\u8FD8",4:"\u5151\u6362\u8D85\u65F6\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458"},tdou_buy_confirm_tag:"tdou_buy_confirm",is_iframe:!0,initial:function(e){this.builder=this.requireInstance("common/widget/Tdou/TdouBuilder"),this.dataProxy=this.requireInstance("common/widget/Tdou/TdouData"),this.viewUtil=this.requireInstance("common/widget/Tdou/TdouViewUtil"),this.message=e,this.autoDirect=this.requireInstance("common/widget/Tdou/TdouViewAutoRedirect")},createMain:function(e){var o=this;o.notShowSucTips=e.notShowSucTips,o.dataProxy.getPayInfo(e,o.onPayInfo,o)},onPayInfo:function(e){var o=this;if(e&&0===e.no){var t=e.data.goods_info,i=e.data.order_info,r=e.data.user_info;o.pay_info={goods_info:t,order_info:i,user_info:r},o.createUI(t,i,r)}else o.handleError(e.no)},createUI:function(e,o,t){var i=this,r="",n=t.Parr_props;i.dataProxy.setParrProps(n);var a=i.dataProxy.getMemberLevel(),d=2==a,u=t.Parr_scores,_=0;u&&(_=u.scores_money+u.scores_other);var s=_>=e.tdou_num,c=0;s||(c=e.tdou_num-_);var m=e.free_vip_level;if(s&&(o.cpath.pay_cashier||void 0==o.cpath.pay_cashier))return i.pay(!1),void 0;if(!s&&(o.cpath.gettdou_cashier||void 0==o.cpath.gettdou_cashier))return i.getTdou(!1),void 0;var l=i.confirmCount();return s&&l>0?(l-=1,i.confirmCount(l),i.pay(!1),void 0):(d&&m?r=i.createUI_memberGetTdou_free(s,e,o,c):d&&!m?r=i.createUI_memberGetTdou(s,e,o,c):!d&&m?r=i.createUI_nonMemberGetGoodsOwnedMember(s,e,o,c):d||m||(r=i.createUI_nonMemberGetTdouOwnedMember(s,e,o,c)),i.renderMain(r),i.initUIData(),i.bindMainUIEvents(),void 0)},directToCrasher:function(e,o,t){var i=this,r=t.Parr_props;i.dataProxy.setParrProps(r);var n=t.Parr_scores,a=0;n&&(a=n.scores_money+n.scores_other);var d=a>=e.tdou_num,u=0;d||(u=e.tdou_num-a),d?i.pay(!1):i.getTdou(!1)},initUIData:function(){var e=this,o=e.confirmCount(),t=$(".j_baidu_tb_tdou_pay_info_box .j_tdou_buy_confirm");t.length>0&&(parseInt(o)>0?t.tbattr("checked",!0):t.tbattr("checked",!1))},createUI_nonMemberGetGoodsOwnedMember:function(e,o,t,i){o.tdou_pay_from=t.from;var r=this.builder.buildPayTdouMain_nonMemberGetGoodsOwnedMember(e,o,t,i);return r},createUI_nonMemberGetTdouOwnedMember:function(e,o,t,i){o.tdou_pay_from=t.from;var r=this.builder.buildPayTdouMain_nonMemberGetTdouOwnedMember(e,o,t,i);return r},createUI_memberGetTdou:function(e,o,t,i){o.tdou_pay_from=t.from;var r=this.builder.buildPayTdouMain_memberGetTdou(e,o,t,i);return r},createUI_memberGetTdou_free:function(e,o,t,i){o.tdou_pay_from=t.from;var r=this.builder.buildPayTdouMain_memberGetTdou_freeGoods(e,o,t,i);return r},renderMain:function(e){if(!($(".baidu_tb_tdou_payment_dialog").length>0)){var o={modal:!0,showTitle:!1,fixed:!0,width:610,height:275,holderClassName:"baidu_tb_tdou_payment_dialog",draggable:!0};o.html=e,this._dialog=new $.dialog(o),this._dialog.element[0].id="baidu_tb_tdou_payment_dialog",this._dialog.show()}},bindMainUIEvents:function(){var e=this;if(!e._dialog)return!1;var o=e._dialog.element;o.find(".j_tdou_pay_header_close").on("click",function(){e.closeMain(),e.sendMessage("closed","");var o=e.requireInstance("common/widget/Tdou/TdouViewOperationBootstrap"),t={actionType:"CLOSE_PAYMENT"};o.triggerByScene(t,e.pay_info)}),o.delegate(".j_tb_tdou_pay_btn","click",function(){e.pay()}).delegate(".j_tb_tdou_get_tdou_btn","click",function(){e.getTdou()}).delegate(".j_tdou_enable_member","click",function(){var e=$(".j_baidu_tb_tdou_pay_info_box .j_tb_tdou_get_tdou_btn");$(this).tbattr("checked")?(e.html("\u5F00\u901A\u4F1A\u5458\u5E76\u83B7\u53D6T\u8C46"),e.addClass("tdou_pay_btn_135")):(e.html("\u83B7\u53D6T\u8C46"),e.removeClass("tdou_pay_btn_135"))}).delegate(".j_tdou_buy_confirm","click",function(){$(this).tbattr("checked")?e.confirmCount(30):e.confirmCount(0)}).delegate(".j_tdou_buy_icon","click",function(){e.getIcon()}).delegate(".j_tdou_open_super_member_link","click",function(){e.closeMain();var o=e.requireInstance("common/widget/payMember"),t={fr:"tbui_tdou_view_pay"};o.showCashier(t)})},pay:function(e){var o=this,t=e;"undefined"==typeof e&&(t=!0);var i={no_ui:t};o.dataProxy.payGoods(o.onPay,o,i)},onPay:function(e,o){var t=this;o&&!o.no_ui?t.wrap=null:(t.wrap=null,t.closeMain());var i=t.dataProxy.getPayInfoCache();if(0===e.no){var r={from:i.order_info.from,goods_name:$.tb.subByte(i.goods_info.goods_name,24,""),order_status:e.data.order_info.status,price:i.goods_info.tdou_num};t.viewUtil.displayPaymentSuccess(t.wrap,r,function(){t.closeMain(),t.sendMessage("paid",e)},t,t.notShowSucTips)}else t.viewUtil.displayPaymentFailed(t.wrap,$.tb.subByte(i.goods_info.goods_name,24,""),function(){t.closeMain(),t.sendMessage("paid",e)},t)},getTdou:function(e){var o=this,t=!1,i=e;"undefined"==typeof e&&(i=!0),i?(t=$(".j_baidu_tb_tdou_pay_info_box .j_tdou_enable_member").tbattr("checked"),this.closeMain()):t=!1;var r=o.dataProxy.getPayInfoCache(),n=r.order_info.cpath,a={consumption_path:r.order_info.scene_id,title:"\u7B2C\u4E09\u65B9\u652F\u4ED8:\u83B7\u53D6T\u8C46",need_tdou:0,third_order_id:r.order_info.order_id,goods_cost_tdou:r.goods_info.tdou_num};t?($.extend(a,{title:"\u7B2C\u4E09\u65B9\u652F\u4ED8:\u5F00\u901A\u8D85\u7EA7\u4F1A\u5458,\u83B7\u53D6T\u8C46",pay_type:7,tbs:r.tbs}),n&&"1"==n.purchase&&$.extend(a,{title:"\u7B2C\u4E09\u65B9\u652F\u4ED8:\u5F00\u901A\u8D85\u7EA7\u4F1A\u5458,\u83B7\u53D6T\u8C46,\u8D2D\u4E70\u5546\u54C1",pay_type:9,tbs:r.tbs})):n&&"1"==n.purchase&&$.extend(a,{title:"\u7B2C\u4E09\u65B9\u652F\u4ED8:\u8D2D\u4E70\u5546\u54C1,\u83B7\u53D6T\u8C46",pay_type:8,third_order_id:r.order_info.order_id,tbs:r.tbs}),o.goCashier(a,i)},goCashier:function(e,o){var t=this,i={consumption_path:e.consumption_path,title:e.desc,need_tdou:e.current_need_tdou,goods_cost_tdou:e.goods_cost_tdou||0,pay_type:e.pay_type||6,tbs:e.tbs,order_id:e.third_order_id,is_dialog:!o,pay_info:t.pay_info};this.autoDirect.display_type="third_app",this.autoDirect.third_order_id=e.third_order_id,this.autoDirect.createMain(i)},getIcon:function(){var e=this;e.closeMain();var o=e.dataProxy.getPayInfoCache();e.view=this.requireInstance("common/widget/Tdou/TdouView"),e.view.bind("after_buy_icon",function(t,i){var r=o.goods_info,n=o.order_info,a=o.user_info;null!=i&&(a.Parr_scores=i),e.createUI(r,n,a)},e);var t=o.order_info.scene_id,i="\u7B2C\u4E09\u65B9\u8D2D\u4E70icon",r=o.goods_info.tdou_num;e.view.createMain(t,i,r)},closeMain:function(){this._dialog&&this._dialog.close(),this.dialog=null},confirmCount:function(){var e=this,o=arguments[0],t=0,i=new Date,r=i.getFullYear()+""+(i.getMonth()+1)+i.getDate();if("undefined"!=typeof o){t=parseInt(o);var n=r+"#"+t;$.tb.Storage.set(e.tdou_buy_confirm_tag,n)}else{if(o=$.tb.Storage.get(e.tdou_buy_confirm_tag),null==o)return 0;var a=o.split("#");t=a&&2==a.length&&a[0]==r?parseInt(a[1]):0}return t},sendMessage:function(e,o){var t=this,i=null;"closed"==e?i={command:"encourage_dialog_closed",data:o}:"paid"==e&&(i={command:"encourage_paid",data:o}),t.message&&t.message(i)},handleError:function(e){if(e){var o=this,t=o.errors[e];return 11e4==e?(o.viewUtil.OpenLoginDialog(),void 0):(t?o.viewUtil.displayPaymentError(t):o.viewUtil.displayPaymentError("\u672A\u77E5\u9519\u8BEF"),void 0)}}}});_.Module.define({path:"encourage/widget/novel_award_thread","extends":"",requires:["encourage/widget/novel_award_dialog"],sub:{initial:function(t){this.opt=$.extend({isLogin:PageData.user.is_login,tbs:PageData.tbs,threadId:0,forumId:0},t),this.awardDialog=this.requireInstance("encourage/widget/novel_award_dialog",[this.opt]),this.bindEvents()},bindEvents:function(){var t=this;$(".j-novel-next-chapter-btn").on("click",function(){var e=$(this).tbattr("data-pid"),a=$(this).tbattr("data-forumid");t.readNextChapter(e,a)}),$(".j-novel-award-pb-btn").on("click",function(){t.awardDialog.show()})},readNextChapter:function(t,e){var a=new $.dialog({showTitle:!1,html:"<p>\u4E0B\u4E00\u7AE0\u8DF3\u8F6C\u4E2D..</p>"}),i={forum_id:e,thread_id:t};$.get("/novel/getNextChapterThread",i,function(t){t&&0==t.no&&t.data?$.tb.location.setHref(t.data.thread_id):(a.setContent("\u5DF2\u7ECF\u662F\u6700\u540E\u4E00\u7AE0"),setTimeout(function(){a.close()},1e3))})}}});